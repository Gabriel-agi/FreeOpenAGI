<!DOCTYPE html>
<!-- Language set by JS -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title set by JS -->
    <title data-translate="page_title">Module 32: Course Conclusion</title>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Base Styles & Variables (Keep consistent) --- */
        :root {
            --primary-color: #007bff; /* Blue */
            --secondary-color: #6c757d; /* Grey */
            --background-light: #f8f9fa;
            --background-medium: #e9ecef;
            --background-dark: #343a40;
            --text-light: #f8f9fa;
            --text-dark: #212529;
            --accent-color: #ffc107; /* Yellow */
            --success-color: #28a745; /* Green */
            --error-color: #dc3545;   /* Red */
            --info-color: #17a2b8;    /* Teal */
            --completion-color: #6f42c1; /* Purple for celebration */
            --border-radius: 8px;
            --transition-speed: 0.3s;
            --font-body: 'Roboto', sans-serif;
            --font-title: 'Orbitron', sans-serif;
            --selection-highlight-bg: rgba(0, 123, 255, 0.1);
            --selection-highlight-border: rgba(0, 123, 255, 0.4);
            /* Nav colors */
            --nav-primary: #6e48aa;
            --nav-success: #4cc9f0;
            --nav-dark: #1a1a2e;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body {
            font-family: var(--font-body); line-height: 1.7;
            background-color: var(--background-light); color: var(--text-dark);
            overflow-x: hidden;
        }

        /* --- Utility Classes (Keep consistent) --- */
        .container { max-width: 960px; margin: 0 auto; padding: 0 15px; }
        .text-center { text-align: center; }
        .highlight { color: var(--primary-color); font-weight: bold; }
        .code-font { font-family: 'Courier New', Courier, monospace; }
        .hidden { display: none !important; }
        .button-group { margin-top: 2rem; display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; }

        /* --- Advanced Animations (Keep consistent) --- */
        .fade-in { opacity: 0; transform: translateY(20px); animation: fadeInAnimation 0.8s ease-out forwards; }
        .fade-in.delay-1 { animation-delay: 0.2s; }
        .fade-in.delay-2 { animation-delay: 0.4s; }
        .fade-in.delay-3 { animation-delay: 0.6s; }
        .fade-in.delay-4 { animation-delay: 0.8s; }
        @keyframes fadeInAnimation { to { opacity: 1; transform: translateY(0); } }
        @keyframes pulseHeaderIcon { /* Keep */ }
        @keyframes successGlow { /* Keep */ }
        .success-glow-anim { animation: successGlow 0.9s ease-out; }
        @keyframes shake { /* Keep */ }
        .shake-anim { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes iconAppearCorrect { /* Keep */ }
        @keyframes iconAppearIncorrect { /* Keep */ }
        @keyframes iconAppearMissed { /* Keep */ }
        .action-button:active:not(:disabled) { transform: translateY(1px) scale(0.98); filter: brightness(0.95); }

        /* --- Minimal Retractable Nav (Keep consistent) --- */
        .minimal-nav-button { /* ... */ position: fixed; top: 15px; right: 15px; z-index: 1001; background-color: rgba(52, 58, 64, 0.75); color: var(--text-light); border: none; border-radius: var(--border-radius); padding: 8px 12px; cursor: pointer; transition: background-color var(--transition-speed), opacity var(--transition-speed), transform var(--transition-speed); font-size: 1.1rem; opacity: 0.6; box-shadow: 0 2px 5px rgba(0,0,0,0.2); line-height: 1; }
        .minimal-nav-button:hover { background-color: rgba(52, 58, 64, 0.95); opacity: 1; transform: scale(1.05); }
        .minimal-nav { /* ... */ position: fixed; top: 60px; right: 15px; z-index: 1000; background-color: var(--background-dark); border-radius: var(--border-radius); box-shadow: 0 5px 15px rgba(0,0,0,0.3); padding: 0.8rem; opacity: 0; transform: translateY(-15px) scale(0.95); transform-origin: top right; pointer-events: none; transition: opacity var(--transition-speed) ease, transform var(--transition-speed) ease; min-width: 200px; }
        body.nav-active .minimal-nav { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }
        .minimal-nav ul { list-style: none; margin: 0; padding: 0; }
        .minimal-nav ul li { margin-bottom: 5px; }
        .minimal-nav ul li:last-child { margin-bottom: 0; }
        .minimal-nav ul li a { display: flex; align-items: center; color: var(--text-light); text-decoration: none; padding: 0.6rem 1rem; border-radius: 4px; transition: background-color var(--transition-speed), color var(--transition-speed); white-space: nowrap; font-weight: 400; font-size: 0.95rem; }
        .minimal-nav ul li a i.fas { margin-right: 10px; width: 1.2em; text-align: center; opacity: 0.8; transition: opacity var(--transition-speed); }
        .minimal-nav ul li a:hover { background-color: var(--primary-color); color: var(--text-light); }
        .minimal-nav ul li a:hover i.fas { opacity: 1; }
        .minimal-nav .language-switcher-item { padding: 0.5rem 1rem; border-top: 1px solid var(--secondary-color); margin-top: 8px; padding-top: 13px; }
        #languageSelect { /* ... */ width: 100%; background: rgba(255,255,255,0.1); color: white; border: 1px solid var(--nav-success); border-radius: 5px; padding: 6px 30px 6px 12px; cursor: pointer; font-size: 0.9rem; appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%234CC9F0%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 10px center; background-size: 10px auto; transition: background-color 0.3s ease; }
        #languageSelect:hover { background-color: rgba(255,255,255,0.15); }
        #languageSelect option { background: var(--nav-dark); color: var(--text-light); }
        /* --- End Minimal Retractable Nav --- */


        /* --- Practice Header (Celebratory Theme) --- */
        .practice-header { background: linear-gradient(135deg, var(--completion-color), var(--primary-color)); color: var(--text-light); padding: 3rem 0 4rem; text-align: center; position: relative; overflow: hidden; border-bottom: 5px solid var(--accent-color); }
        .practice-header h1 { font-family: var(--font-title); font-size: 2.8rem; margin-bottom: 0.5rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); animation: fadeInAnimation 1s ease-out; }
        .practice-header p { font-size: 1.1rem; font-weight: 300; opacity: 0.9; animation: fadeInAnimation 1s ease-out 0.3s forwards; opacity: 0; }
        /* Using celebratory icons */
        .header-icon { position: absolute; font-size: 4rem; color: var(--text-light); animation: pulseHeaderIcon 6s infinite ease-in-out alternate; opacity: 0.15; }
        .icon1 { top: 15%; left: 10%; animation-duration: 7s; } /* Star */
        .icon2 { bottom: 10%; right: 15%; animation-duration: 5s; } /* Graduation Cap */
        .icon3 { top: 50%; right: 25%; animation-duration: 8s; font-size: 3rem; } /* Code */
        .icon4 { bottom: 40%; left: 20%; animation-duration: 6s; font-size: 3.5rem; } /* Rocket */


        /* --- Practice Section Styling (Keep consistent) --- */
        .practice-section { padding: 3rem 0; background-color: var(--background-medium); border-bottom: 1px solid #d6d8db; }
        .practice-section:nth-child(odd) { background-color: var(--background-light); }
        .practice-section:last-of-type { border-bottom: none; }
        .practice-section h2 { font-family: var(--font-title); font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; text-align: center; }
        .practice-section .section-description { text-align: center; margin-bottom: 2.5rem; color: var(--secondary-color); font-size: 1.05rem; max-width: 700px; margin-left: auto; margin-right: auto; }

        /* --- General Interactive Elements (Keep consistent) --- */
        .interactive-area { background-color: #fff; padding: 2rem; border-radius: var(--border-radius); box-shadow: 0 5px 15px rgba(0,0,0,0.08); margin-top: 1.5rem; position: relative; transition: box-shadow 0.5s ease-out; }
        .feedback-message { /* ... keep styles ... */ }
        .action-button { /* ... keep styles ... */ }

        /* --- Activity 1: Concept Constellation --- */
        #concept-constellation .concepts-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 15px;
            padding: 2rem 1rem;
            background-color: var(--background-light);
            border-radius: var(--border-radius);
            border: 1px dashed var(--secondary-color);
            min-height: 150px;
        }
        .concept-item {
            padding: 10px 18px;
            background-color: var(--primary-color);
            color: var(--text-light);
            border-radius: 25px; /* Pill shape */
            font-size: 1rem;
            font-weight: 400;
            cursor: pointer;
            transition: transform var(--transition-speed) ease, background-color var(--transition-speed) ease, box-shadow var(--transition-speed);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid transparent;
            user-select: none;
            -webkit-user-select: none;
        }
        .concept-item:hover {
            transform: translateY(-3px) scale(1.03);
            background-color: #0056b3; /* Darker blue */
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .concept-item.selected {
            background-color: var(--accent-color);
            color: var(--text-dark);
            font-weight: bold;
            border: 1px solid #e0a800;
            transform: scale(1.05);
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        #concept-status {
            margin-top: 1.5rem;
            font-style: italic;
            color: var(--secondary-color);
            text-align: center;
        }

        /* --- Activity 2: Next Steps --- */
        #next-steps .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }
        .next-step-card {
            background-color: #ffffff;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            border: 1px solid #dee2e6;
            text-align: center;
            transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
        }
        .next-step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .next-step-card i.fas {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: block;
        }
        .next-step-card h4 {
            font-family: var(--font-title);
            font-size: 1.3rem;
            margin-bottom: 0.8rem;
            color: var(--primary-color);
        }
        .next-step-card p {
            font-size: 0.95rem;
            color: var(--secondary-color);
            line-height: 1.6;
        }
        .next-step-card a.action-button {
             margin-top: 1.5rem;
             font-size: 0.9rem;
             padding: 0.6rem 1.2rem;
        }

        /* --- Activity 3: Resource Trove --- */
        #resource-trove .resource-category {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: var(--background-light);
            border-radius: var(--border-radius);
            border-left: 5px solid var(--info-color);
        }
        #resource-trove h4 {
            font-family: var(--font-body);
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--info-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
         #resource-trove h4 i.fas {
             margin-right: 10px;
             font-size: 1.1em;
         }
        .resource-list {
            list-style: none;
            padding-left: 0;
        }
        .resource-list li {
            margin-bottom: 0.8rem;
            font-size: 1rem;
            line-height: 1.6;
        }
        .resource-list li a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: bold;
            transition: color var(--transition-speed);
        }
        .resource-list li a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
         .resource-list li span { /* Description */
             color: var(--secondary-color);
             font-size: 0.9rem;
             margin-left: 5px;
         }

        /* --- Final Farewell Section --- */
        .final-farewell-section { padding: 4rem 0; text-align: center; background: linear-gradient(135deg, var(--background-light), var(--background-medium)); }
        .final-farewell-section .icon-container {
            font-size: 5rem; color: var(--completion-color); margin-bottom: 1.5rem; display: inline-block;
            opacity: 0; animation: iconAppearCorrect 1.5s ease-out 0.5s forwards; /* Use existing animation */
            transform-origin: center bottom;
        }
         .final-farewell-section .icon-container .fa-star { color: var(--accent-color); }
        .final-farewell-section h2 { font-family: var(--font-title); font-size: 2.5rem; color: var(--completion-color); text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
        .final-farewell-section p { font-size: 1.15rem; margin-top: 1rem; color: var(--text-dark); max-width: 700px; margin-left: auto; margin-right: auto; }
        .final-farewell-section .button-group a { background-color: var(--completion-color); } /* Match title color */
        .final-farewell-section .button-group a:hover:not(:disabled) { background-color: #5a2d9e; } /* Darker purple */


        /* --- Responsive Design (Keep consistent, adjust if needed) --- */
        @media (max-width: 768px) {
            html { font-size: 15px; }
            .practice-header h1 { font-size: 2.2rem; }
            .practice-section h2 { font-size: 1.6rem; }
            .interactive-area { padding: 1.5rem; }
            .concept-item { padding: 8px 15px; font-size: 0.95rem; }
            .next-step-card { padding: 1.2rem; }
             .next-step-card h4 { font-size: 1.2rem; }
            .final-farewell-section h2 { font-size: 2rem; }
            .final-farewell-section p { font-size: 1.1rem; }
            .button-group { flex-direction: column; align-items: center; }
            .minimal-nav { min-width: 180px; }
        }
        @media (max-width: 480px) {
            html { font-size: 14px; }
            .practice-header h1 { font-size: 1.8rem; }
            .practice-header p { font-size: 1rem; }
            .practice-section h2 { font-size: 1.4rem; }
            .interactive-area { padding: 1rem; }
            .action-button { font-size: 0.9rem; padding: 0.7rem 1.2rem; width: 90%; max-width: 300px;}
            .concept-item { padding: 6px 12px; font-size: 0.9rem; }
            #concept-constellation .concepts-container { padding: 1.5rem 0.8rem; gap: 10px;}
            .next-steps-container { grid-template-columns: 1fr; } /* Stack cards */
            .final-farewell-section h2 { font-size: 1.8rem; }
            .final-farewell-section p { font-size: 1.05rem; }
            .button-group a.action-button { width: 90%; max-width: 300px; margin-bottom: 0.5rem; }
             .minimal-nav-button { top: 10px; right: 10px; padding: 6px 10px; font-size: 1rem; }
             .minimal-nav { top: 48px; right: 10px; min-width: 160px; }
        }
    </style>
</head>
<body>

    <!-- ========= Minimal Nav Handle ========= -->
    <button id="minimal-nav-toggle" class="minimal-nav-button" aria-label="Toggle Navigation Menu">
        <i class="fas fa-bars"></i>
    </button>

    <!-- ========= Minimal Nav Panel (with Language Switcher) ========= -->
    <nav id="minimal-nav-panel" class="minimal-nav">
        <ul>
            <!-- **** MODIFIED HREF for Module 32 **** -->
            <li><a href="ctp-theory-32.html"><i class="fas fa-book-open fa-fw"></i> <span data-translate="nav_theory">View Recap</span></a></li>
            <!-- Link advanced to dashboard or projects page if available -->
            <li><a href="ctp-dashboard.html"><i class="fas fa-flask fa-fw"></i> <span data-translate="nav_advanced">Project Ideas</span></a></li>
            <li><a href="ctp-dashboard.html"><i class="fas fa-list fa-fw"></i> <span data-translate="nav_menu">Course Menu</span></a></li>
            <hr style="border: none; border-top: 1px solid var(--secondary-color); margin: 8px 0;">
            <!-- **** MODIFIED Quick Links for Module 32 Activities **** -->
            <li><a href="#concept-constellation"><i class="fas fa-star fa-fw"></i> <span data-translate="nav_review">Review</span></a></li>
            <li><a href="#next-steps"><i class="fas fa-rocket fa-fw"></i> <span data-translate="nav_next">Next Steps</span></a></li>
            <li><a href="#resource-trove"><i class="fas fa-book fa-fw"></i> <span data-translate="nav_resources">Resources</span></a></li>
            <!-- Language Switcher Item -->
            <li class="language-switcher-item">
                 <select id="languageSelect" aria-label="Select Language">
                     <option value="en" data-translate="lang_en">ðŸ‡¬ðŸ‡§ English</option>
                     <option value="pt" data-translate="lang_pt">ðŸ‡§ðŸ‡· PortuguÃªs</option>
                     <option value="zh" data-translate="lang_zh">ðŸ‡¨ðŸ‡³ ä¸­æ–‡</option>
                 </select>
            </li>
        </ul>
    </nav>

    <!-- ========= Header ========= -->
    <header class="practice-header">
        <!-- **** MODIFIED Icons **** -->
        <i class="fas fa-star header-icon icon1"></i>
        <i class="fas fa-graduation-cap header-icon icon2"></i>
        <i class="fas fa-code header-icon icon3"></i>
        <i class="fas fa-rocket header-icon icon4"></i>
        <div class="container">
            <!-- **** MODIFIED Title/Subtitle **** -->
            <h1 data-translate="header_title">Module 32: Course Conclusion</h1>
            <p data-translate="header_subtitle">Congratulations on completing your Computational Thinking journey with Python!</p>
        </div>
    </header>

    <!-- ========= Main Content ========= -->
    <main>
        <!-- ========= Activity 1: Concept Constellation (Review) ========= -->
        <section id="concept-constellation" class="practice-section">
             <div class="container">
                 <h2 class="fade-in"><i class="fas fa-star"></i> <span data-translate="review_title">Concept Constellation</span></h2>
                 <p class="section-description fade-in delay-1" data-translate="review_desc">
                     Let's revisit the stars of the show! Click on the concepts below to refresh your memory on the key ideas you've mastered.
                 </p>
                 <div class="interactive-area fade-in delay-2">
                     <div id="concepts-container" class="concepts-container">
                         <!-- Concepts added by JS -->
                     </div>
                     <p id="concept-status" data-translate="review_status_initial">Click on a concept!</p>
                     <!-- Hidden data for JS -->
                     <div id="concept-data" style="display: none;">
                         <span data-key="concept_algorithms" data-tooltip-key="tooltip_algorithms">Algorithms</span>
                         <span data-key="concept_variables" data-tooltip-key="tooltip_variables">Variables</span>
                         <span data-key="concept_datatypes" data-tooltip-key="tooltip_datatypes">Data Types</span>
                         <span data-key="concept_print" data-tooltip-key="tooltip_print">Print Function</span>
                         <span data-key="concept_input" data-tooltip-key="tooltip_input">Input Function</span>
                         <span data-key="concept_operators" data-tooltip-key="tooltip_operators">Operators</span>
                         <span data-key="concept_if" data-tooltip-key="tooltip_if">If Statements</span>
                         <span data-key="concept_loops" data-tooltip-key="tooltip_loops">Loops (For/While)</span>
                         <span data-key="concept_lists" data-tooltip-key="tooltip_lists">Lists</span>
                         <span data-key="concept_functions" data-tooltip-key="tooltip_functions">Functions</span>
                         <span data-key="concept_decomposition" data-tooltip-key="tooltip_decomposition">Decomposition</span>
                         <span data-key="concept_abstraction" data-tooltip-key="tooltip_abstraction">Abstraction</span>
                         <span data-key="concept_patterns" data-tooltip-key="tooltip_patterns">Pattern Recognition</span>
                         <span data-key="concept_debugging" data-tooltip-key="tooltip_debugging">Debugging</span>
                         <span data-key="concept_comments" data-tooltip-key="tooltip_comments">Comments</span>
                     </div>
                 </div>
             </div>
        </section>

        <!-- ========= Activity 2: Your Next Adventure ========= -->
        <section id="next-steps" class="practice-section">
            <div class="container">
                <h2 class="fade-in"><i class="fas fa-rocket"></i> <span data-translate="next_steps_title">Your Next Adventure</span></h2>
                <p class="section-description fade-in delay-1" data-translate="next_steps_desc">
                    You've built a strong foundation. Where will your Python and Computational Thinking skills take you next? Explore some possibilities!
                </p>
                <div class="interactive-area fade-in delay-2">
                    <div class="steps-container">
                        <!-- Card 1: Advanced Python -->
                        <div class="next-step-card">
                            <i class="fab fa-python"></i>
                            <h4 data-translate="next_step1_title">Deeper Python</h4>
                            <p data-translate="next_step1_desc">Explore object-oriented programming, file handling, modules, libraries (like NumPy, Pandas), and more advanced Python features.</p>
                            <!-- Optional Link -->
                             <a href="#" class="action-button secondary" data-translate="button_learn_more" onclick="return false;">Learn More (Example)</a>
                        </div>
                         <!-- Card 2: Data Science / AI -->
                         <div class="next-step-card">
                            <i class="fas fa-brain"></i>
                            <h4 data-translate="next_step2_title">Data Science & AI</h4>
                            <p data-translate="next_step2_desc">Apply your skills to analyze data, build machine learning models, explore Natural Language Processing, or dive into Computer Vision.</p>
                             <a href="#" class="action-button secondary" data-translate="button_learn_more" onclick="return false;">Learn More (Example)</a>
                        </div>
                         <!-- Card 3: Web Development -->
                         <div class="next-step-card">
                            <i class="fas fa-globe"></i>
                            <h4 data-translate="next_step3_title">Web Development</h4>
                            <p data-translate="next_step3_desc">Use frameworks like Flask or Django to build dynamic websites and web applications powered by Python.</p>
                             <a href="#" class="action-button secondary" data-translate="button_learn_more" onclick="return false;">Learn More (Example)</a>
                        </div>
                         <!-- Card 4: Build Projects -->
                         <div class="next-step-card">
                            <i class="fas fa-project-diagram"></i>
                            <h4 data-translate="next_step4_title">Build Your Own Projects</h4>
                            <p data-translate="next_step4_desc">The best way to learn is by doing! Think of a problem you want to solve or an idea you want to bring to life, and start coding.</p>
                             <a href="#" class="action-button secondary" data-translate="button_learn_more" onclick="return false;">Get Ideas (Example)</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========= Activity 3: Resource Trove ========= -->
        <section id="resource-trove" class="practice-section">
            <div class="container">
                <h2 class="fade-in"><i class="fas fa-book"></i> <span data-translate="resources_title">Resource Trove</span></h2>
                <p class="section-description fade-in delay-1" data-translate="resources_desc">
                    Keep learning and growing! Here are some types of resources to continue your journey (links are illustrative examples).
                </p>
                <div class="interactive-area fade-in delay-2">
                    <!-- Category 1: Official Docs & Tutorials -->
                    <div class="resource-category">
                        <h4><i class="fas fa-book-open"></i><span data-translate="resources_cat1_title">Official Docs & Tutorials</span></h4>
                        <ul class="resource-list">
                            <li><a href="https://docs.python.org/3/tutorial/" target="_blank" rel="noopener">Python.org Tutorial</a> <span data-translate="resources_cat1_item1_desc">- The official, comprehensive guide.</span></li>
                            <li><a href="https://realpython.com/" target="_blank" rel="noopener">Real Python</a> <span data-translate="resources_cat1_item2_desc">- High-quality articles and tutorials.</span></li>
                        </ul>
                    </div>
                    <!-- Category 2: Practice Platforms -->
                     <div class="resource-category">
                        <h4><i class="fas fa-keyboard"></i><span data-translate="resources_cat2_title">Practice Platforms</span></h4>
                        <ul class="resource-list">
                             <li><a href="https://www.codewars.com/" target="_blank" rel="noopener">Codewars</a> <span data-translate="resources_cat2_item1_desc">- Solve coding challenges (kata).</span></li>
                             <li><a href="https://leetcode.com/" target="_blank" rel="noopener">LeetCode</a> <span data-translate="resources_cat2_item2_desc">- Practice data structures and algorithms.</span></li>
                             <li><a href="https://www.hackerrank.com/" target="_blank" rel="noopener">HackerRank</a> <span data-translate="resources_cat2_item3_desc">- Coding challenges and interview prep.</span></li>
                        </ul>
                    </div>
                    <!-- Category 3: Communities -->
                     <div class="resource-category">
                        <h4><i class="fas fa-users"></i><span data-translate="resources_cat3_title">Communities</span></h4>
                        <ul class="resource-list">
                             <li><a href="https://stackoverflow.com/questions/tagged/python" target="_blank" rel="noopener">Stack Overflow (Python)</a> <span data-translate="resources_cat3_item1_desc">- Ask and answer questions.</span></li>
                             <li><a href="https://www.reddit.com/r/Python/" target="_blank" rel="noopener">Reddit r/Python</a> <span data-translate="resources_cat3_item2_desc">- Discussions, news, and help.</span></li>
                             <li><a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> <span data-translate="resources_cat3_item3_desc">- Explore open-source projects and contribute.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

         <!-- ========= Final Farewell Section ========= -->
        <section class="final-farewell-section">
            <div class="container">
                <div class="icon-container fade-in">
                    <i class="fas fa-graduation-cap"></i> <i class="fas fa-star"></i> <i class="fas fa-rocket"></i>
                </div>
                <h2 class="fade-in delay-1" data-translate="completion_title">You Did It! Congratulations!</h2>
                <p class="fade-in delay-2" data-translate="completion_desc">
                    This is just the beginning of your coding adventure. You've equipped yourself with powerful tools: Python and Computational Thinking. Keep exploring, keep building, keep learning, and see what amazing things you can create!
                </p>
                <div class="button-group">
                    <!-- Link back to the main course dashboard -->
                    <a href="ctp-dashboard.html" class="action-button fade-in delay-3"><i class="fas fa-list"></i> <span data-translate="button_back_menu">Back to Course Menu</span></a>
                    <!-- Optional: Link to a certificate or final project page -->
                    <!-- <a href="#" class="action-button secondary fade-in delay-4"><i class="fas fa-certificate"></i> <span data-translate="button_view_certificate">View Certificate</span></a> -->
                </div>
            </div>
        </section>
    </main>

    <!-- ========= Script ========= -->
    <script>
    // --- Translations Object ---
    const translations = {
        en: {
            "page_title": "Module 32: Course Conclusion",
            "nav_theory": "View Recap", "nav_advanced": "Project Ideas", "nav_menu": "Course Menu",
            "nav_review": "Review", "nav_next": "Next Steps", "nav_resources": "Resources",
            "lang_en": "ðŸ‡¬ðŸ‡§ English", "lang_pt": "ðŸ‡§ðŸ‡· PortuguÃªs", "lang_zh": "ðŸ‡¨ðŸ‡³ ä¸­æ–‡",
            "header_title": "Module 32: Course Conclusion", "header_subtitle": "Congratulations on completing your Computational Thinking journey with Python!",
            "review_title": "Concept Constellation", "review_desc": "Let's revisit the stars of the show! Click on the concepts below to refresh your memory on the key ideas you've mastered.",
            "review_status_initial": "Click on a concept!",
            "concept_algorithms": "Algorithms", "tooltip_algorithms": "Step-by-step instructions to solve a problem.",
            "concept_variables": "Variables", "tooltip_variables": "Named containers for storing data.",
            "concept_datatypes": "Data Types", "tooltip_datatypes": "Types of data like integers, strings, booleans.",
            "concept_print": "Print Function", "tooltip_print": "Displays output to the screen.",
            "concept_input": "Input Function", "tooltip_input": "Gets input from the user.",
            "concept_operators": "Operators", "tooltip_operators": "Symbols for calculations (+, -, *, /, ==, >, <).",
            "concept_if": "If Statements", "tooltip_if": "Makes decisions based on conditions.",
            "concept_loops": "Loops (For/While)", "tooltip_loops": "Repeats blocks of code.",
            "concept_lists": "Lists", "tooltip_lists": "Ordered collections of items.",
            "concept_functions": "Functions", "tooltip_functions": "Reusable blocks of code.",
            "concept_decomposition": "Decomposition", "tooltip_decomposition": "Breaking down problems into smaller parts.",
            "concept_abstraction": "Abstraction", "tooltip_abstraction": "Hiding complex details, focusing on essentials.",
            "concept_patterns": "Pattern Recognition", "tooltip_patterns": "Finding similarities and trends.",
            "concept_debugging": "Debugging", "tooltip_debugging": "Finding and fixing errors in code.",
            "concept_comments": "Comments", "tooltip_comments": "Notes in code for humans, ignored by Python.",
            "next_steps_title": "Your Next Adventure", "next_steps_desc": "You've built a strong foundation. Where will your Python and Computational Thinking skills take you next? Explore some possibilities!",
            "next_step1_title": "Deeper Python", "next_step1_desc": "Explore object-oriented programming, file handling, modules, libraries (like NumPy, Pandas), and more advanced Python features.",
            "next_step2_title": "Data Science & AI", "next_step2_desc": "Apply your skills to analyze data, build machine learning models, explore Natural Language Processing, or dive into Computer Vision.",
            "next_step3_title": "Web Development", "next_step3_desc": "Use frameworks like Flask or Django to build dynamic websites and web applications powered by Python.",
            "next_step4_title": "Build Your Own Projects", "next_step4_desc": "The best way to learn is by doing! Think of a problem you want to solve or an idea you want to bring to life, and start coding.",
            "button_learn_more": "Learn More (Example)", "button_get_ideas": "Get Ideas (Example)",
            "resources_title": "Resource Trove", "resources_desc": "Keep learning and growing! Here are some types of resources to continue your journey (links are illustrative examples).",
            "resources_cat1_title": "Official Docs & Tutorials", "resources_cat1_item1_desc": "- The official, comprehensive guide.", "resources_cat1_item2_desc": "- High-quality articles and tutorials.",
            "resources_cat2_title": "Practice Platforms", "resources_cat2_item1_desc": "- Solve coding challenges (kata).", "resources_cat2_item2_desc": "- Practice data structures and algorithms.", "resources_cat2_item3_desc": "- Coding challenges and interview prep.",
            "resources_cat3_title": "Communities", "resources_cat3_item1_desc": "- Ask and answer questions.", "resources_cat3_item2_desc": "- Discussions, news, and help.", "resources_cat3_item3_desc": "- Explore open-source projects and contribute.",
            "completion_title": "You Did It! Congratulations!", "completion_desc": "This is just the beginning of your coding adventure. You've equipped yourself with powerful tools: Python and Computational Thinking. Keep exploring, keep building, keep learning, and see what amazing things you can create!",
            "button_back_menu": "Back to Course Menu"
            // "button_view_certificate": "View Certificate" // Optional
        },
        pt: {
            "page_title": "MÃ³dulo 32: ConclusÃ£o do Curso",
            "nav_theory": "Ver Resumo", "nav_advanced": "Ideias de Projetos", "nav_menu": "Menu do Curso",
            "nav_review": "RevisÃ£o", "nav_next": "PrÃ³ximos Passos", "nav_resources": "Recursos",
            "lang_en": "ðŸ‡¬ðŸ‡§ English", "lang_pt": "ðŸ‡§ðŸ‡· PortuguÃªs", "lang_zh": "ðŸ‡¨ðŸ‡³ ä¸­æ–‡",
            "header_title": "MÃ³dulo 32: ConclusÃ£o do Curso", "header_subtitle": "ParabÃ©ns por completar sua jornada de Pensamento Computacional com Python!",
            "review_title": "ConstelaÃ§Ã£o de Conceitos", "review_desc": "Vamos revisitar as estrelas do show! Clique nos conceitos abaixo para refrescar sua memÃ³ria sobre as ideias chave que vocÃª dominou.",
            "review_status_initial": "Clique em um conceito!",
            "concept_algorithms": "Algoritmos", "tooltip_algorithms": "InstruÃ§Ãµes passo a passo para resolver um problema.",
            "concept_variables": "VariÃ¡veis", "tooltip_variables": "ContÃªineres nomeados para armazenar dados.",
            "concept_datatypes": "Tipos de Dados", "tooltip_datatypes": "Tipos de dados como inteiros, strings, booleanos.",
            "concept_print": "FunÃ§Ã£o Print", "tooltip_print": "Exibe saÃ­da na tela.",
            "concept_input": "FunÃ§Ã£o Input", "tooltip_input": "ObtÃ©m entrada do usuÃ¡rio.",
            "concept_operators": "Operadores", "tooltip_operators": "SÃ­mbolos para cÃ¡lculos (+, -, *, /, ==, >, <).",
            "concept_if": "Comandos If", "tooltip_if": "Toma decisÃµes com base em condiÃ§Ãµes.",
            "concept_loops": "Loops (For/While)", "tooltip_loops": "Repete blocos de cÃ³digo.",
            "concept_lists": "Listas", "tooltip_lists": "ColeÃ§Ãµes ordenadas de itens.",
            "concept_functions": "FunÃ§Ãµes", "tooltip_functions": "Blocos de cÃ³digo reutilizÃ¡veis.",
            "concept_decomposition": "DecomposiÃ§Ã£o", "tooltip_decomposition": "Quebrar problemas em partes menores.",
            "concept_abstraction": "AbstraÃ§Ã£o", "tooltip_abstraction": "Ocultar detalhes complexos, focando no essencial.",
            "concept_patterns": "Reconhecimento de PadrÃµes", "tooltip_patterns": "Encontrar semelhanÃ§as e tendÃªncias.",
            "concept_debugging": "Debugging", "tooltip_debugging": "Encontrar e corrigir erros no cÃ³digo.",
            "concept_comments": "ComentÃ¡rios", "tooltip_comments": "Notas no cÃ³digo para humanos, ignoradas pelo Python.",
            "next_steps_title": "Sua PrÃ³xima Aventura", "next_steps_desc": "VocÃª construiu uma base sÃ³lida. Para onde suas habilidades em Python e Pensamento Computacional o levarÃ£o a seguir? Explore algumas possibilidades!",
            "next_step1_title": "Python Aprofundado", "next_step1_desc": "Explore programaÃ§Ã£o orientada a objetos, manipulaÃ§Ã£o de arquivos, mÃ³dulos, bibliotecas (como NumPy, Pandas) e recursos mais avanÃ§ados do Python.",
            "next_step2_title": "CiÃªncia de Dados & IA", "next_step2_desc": "Aplique suas habilidades para analisar dados, construir modelos de machine learning, explorar Processamento de Linguagem Natural ou mergulhar na VisÃ£o Computacional.",
            "next_step3_title": "Desenvolvimento Web", "next_step3_desc": "Use frameworks como Flask ou Django para construir sites dinÃ¢micos e aplicaÃ§Ãµes web com Python.",
            "next_step4_title": "Construa Seus PrÃ³prios Projetos", "next_step4_desc": "A melhor maneira de aprender Ã© fazendo! Pense em um problema que vocÃª quer resolver ou uma ideia que quer dar vida e comece a codificar.",
            "button_learn_more": "Saiba Mais (Exemplo)", "button_get_ideas": "Ver Ideias (Exemplo)",
            "resources_title": "Tesouro de Recursos", "resources_desc": "Continue aprendendo e crescendo! Aqui estÃ£o alguns tipos de recursos para continuar sua jornada (links sÃ£o exemplos ilustrativos).",
            "resources_cat1_title": "Docs Oficiais & Tutoriais", "resources_cat1_item1_desc": "- O guia oficial e abrangente.", "resources_cat1_item2_desc": "- Artigos e tutoriais de alta qualidade.",
            "resources_cat2_title": "Plataformas de PrÃ¡tica", "resources_cat2_item1_desc": "- Resolva desafios de codificaÃ§Ã£o (kata).", "resources_cat2_item2_desc": "- Pratique estruturas de dados e algoritmos.", "resources_cat2_item3_desc": "- Desafios de codificaÃ§Ã£o e preparaÃ§Ã£o para entrevistas.",
            "resources_cat3_title": "Comunidades", "resources_cat3_item1_desc": "- FaÃ§a e responda perguntas.", "resources_cat3_item2_desc": "- DiscussÃµes, notÃ­cias e ajuda.", "resources_cat3_item3_desc": "- Explore projetos de cÃ³digo aberto e contribua.",
            "completion_title": "VocÃª Conseguiu! ParabÃ©ns!", "completion_desc": "Este Ã© apenas o comeÃ§o da sua aventura de codificaÃ§Ã£o. VocÃª se equipou com ferramentas poderosas: Python e Pensamento Computacional. Continue explorando, continue construindo, continue aprendendo e veja que coisas incrÃ­veis vocÃª pode criar!",
            "button_back_menu": "Voltar ao Menu do Curso"
            // "button_view_certificate": "Ver Certificado" // Optional
        },
        zh: {
            "page_title": "æ¨¡å— 32ï¼šè¯¾ç¨‹æ€»ç»“",
            "nav_theory": "æŸ¥çœ‹å›žé¡¾", "nav_advanced": "é¡¹ç›®æž„æƒ³", "nav_menu": "è¯¾ç¨‹èœå•",
            "nav_review": "å›žé¡¾", "nav_next": "åŽç»­æ­¥éª¤", "nav_resources": "èµ„æº",
            "lang_en": "ðŸ‡¬ðŸ‡§ English", "lang_pt": "ðŸ‡§ðŸ‡· PortuguÃªs", "lang_zh": "ðŸ‡¨ðŸ‡³ ä¸­æ–‡",
            "header_title": "æ¨¡å— 32ï¼šè¯¾ç¨‹æ€»ç»“", "header_subtitle": "æ­å–œæ‚¨å®Œæˆ Python è®¡ç®—æ€ç»´ä¹‹æ—…ï¼",
            "review_title": "æ¦‚å¿µæ˜Ÿå›¾", "review_desc": "è®©æˆ‘ä»¬é‡æ¸©ä¸€ä¸‹è¯¾ç¨‹çš„é‡ç‚¹ï¼ç‚¹å‡»ä¸‹é¢çš„æ¦‚å¿µï¼Œåˆ·æ–°æ‚¨å¯¹å·²æŽŒæ¡å…³é”®æ€æƒ³çš„è®°å¿†ã€‚",
            "review_status_initial": "ç‚¹å‡»ä¸€ä¸ªæ¦‚å¿µï¼",
            "concept_algorithms": "ç®—æ³•", "tooltip_algorithms": "è§£å†³é—®é¢˜çš„åˆ†æ­¥è¯´æ˜Žã€‚",
            "concept_variables": "å˜é‡", "tooltip_variables": "ç”¨äºŽå­˜å‚¨æ•°æ®çš„å‘½åå®¹å™¨ã€‚",
            "concept_datatypes": "æ•°æ®ç±»åž‹", "tooltip_datatypes": "æ•°æ®çš„ç§ç±»ï¼Œå¦‚æ•´æ•°ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€‚",
            "concept_print": "Print å‡½æ•°", "tooltip_print": "å‘å±å¹•æ˜¾ç¤ºè¾“å‡ºã€‚",
            "concept_input": "Input å‡½æ•°", "tooltip_input": "ä»Žç”¨æˆ·å¤„èŽ·å–è¾“å…¥ã€‚",
            "concept_operators": "è¿ç®—ç¬¦", "tooltip_operators": "ç”¨äºŽè®¡ç®—çš„ç¬¦å· (+, -, *, /, ==, >, <)ã€‚",
            "concept_if": "If è¯­å¥", "tooltip_if": "æ ¹æ®æ¡ä»¶åšå‡ºå†³ç­–ã€‚",
            "concept_loops": "å¾ªçŽ¯ (For/While)", "tooltip_loops": "é‡å¤æ‰§è¡Œä»£ç å—ã€‚",
            "concept_lists": "åˆ—è¡¨", "tooltip_lists": "æœ‰åºçš„é¡¹ç›®é›†åˆã€‚",
            "concept_functions": "å‡½æ•°", "tooltip_functions": "å¯é‡ç”¨çš„ä»£ç å—ã€‚",
            "concept_decomposition": "åˆ†è§£", "tooltip_decomposition": "å°†é—®é¢˜åˆ†è§£æˆæ›´å°çš„éƒ¨åˆ†ã€‚",
            "concept_abstraction": "æŠ½è±¡", "tooltip_abstraction": "éšè—å¤æ‚ç»†èŠ‚ï¼Œå…³æ³¨æœ¬è´¨ã€‚",
            "concept_patterns": "æ¨¡å¼è¯†åˆ«", "tooltip_patterns": "å‘çŽ°ç›¸ä¼¼æ€§å’Œè¶‹åŠ¿ã€‚",
            "concept_debugging": "è°ƒè¯•", "tooltip_debugging": "æŸ¥æ‰¾å¹¶ä¿®å¤ä»£ç ä¸­çš„é”™è¯¯ã€‚",
            "concept_comments": "æ³¨é‡Š", "tooltip_comments": "ä»£ç ä¸­ä¾›äººé˜…è¯»çš„æ³¨é‡Šï¼ŒPython ä¼šå¿½ç•¥ã€‚",
            "next_steps_title": "æ‚¨çš„ä¸‹ä¸€æ¬¡å†’é™©", "next_steps_desc": "æ‚¨å·²ç»æ‰“ä¸‹äº†åšå®žçš„åŸºç¡€ã€‚æ‚¨çš„ Python å’Œè®¡ç®—æ€ç»´æŠ€èƒ½å°†å¸¦æ‚¨èµ°å‘ä½•æ–¹ï¼ŸæŽ¢ç´¢ä¸€äº›å¯èƒ½æ€§ï¼",
            "next_step1_title": "æ·±å…¥ Python", "next_step1_desc": "æŽ¢ç´¢é¢å‘å¯¹è±¡ç¼–ç¨‹ã€æ–‡ä»¶å¤„ç†ã€æ¨¡å—ã€åº“ï¼ˆå¦‚ NumPyã€Pandasï¼‰ä»¥åŠæ›´å¤šé«˜çº§ Python åŠŸèƒ½ã€‚",
            "next_step2_title": "æ•°æ®ç§‘å­¦ä¸Žäººå·¥æ™ºèƒ½", "next_step2_desc": "åº”ç”¨æ‚¨çš„æŠ€èƒ½åˆ†æžæ•°æ®ã€æž„å»ºæœºå™¨å­¦ä¹ æ¨¡åž‹ã€æŽ¢ç´¢è‡ªç„¶è¯­è¨€å¤„ç†æˆ–æ·±å…¥ç ”ç©¶è®¡ç®—æœºè§†è§‰ã€‚",
            "next_step3_title": "Web å¼€å‘", "next_step3_desc": "ä½¿ç”¨ Flask æˆ– Django ç­‰æ¡†æž¶æž„å»ºç”± Python é©±åŠ¨çš„åŠ¨æ€ç½‘ç«™å’Œ Web åº”ç”¨ç¨‹åºã€‚",
            "next_step4_title": "æž„å»ºæ‚¨è‡ªå·±çš„é¡¹ç›®", "next_step4_desc": "å­¦ä¹ çš„æœ€ä½³æ–¹å¼æ˜¯å®žè·µï¼æƒ³ä¸€ä¸ªæ‚¨æƒ³è§£å†³çš„é—®é¢˜æˆ–æƒ³å®žçŽ°çš„æƒ³æ³•ï¼Œç„¶åŽå¼€å§‹ç¼–ç ã€‚",
            "button_learn_more": "äº†è§£æ›´å¤š (ç¤ºä¾‹)", "button_get_ideas": "èŽ·å–çµæ„Ÿ (ç¤ºä¾‹)",
            "resources_title": "èµ„æºå®åº“", "resources_desc": "ä¸æ–­å­¦ä¹ å’Œæˆé•¿ï¼è¿™é‡Œæœ‰ä¸€äº›èµ„æºç±»åž‹å¯ä»¥å¸®åŠ©æ‚¨ç»§ç»­æ—…ç¨‹ï¼ˆé“¾æŽ¥ä»…ä¸ºç¤ºä¾‹ï¼‰ã€‚",
            "resources_cat1_title": "å®˜æ–¹æ–‡æ¡£ä¸Žæ•™ç¨‹", "resources_cat1_item1_desc": "- å®˜æ–¹ã€å…¨é¢çš„æŒ‡å—ã€‚", "resources_cat1_item2_desc": "- é«˜è´¨é‡çš„æ–‡ç« å’Œæ•™ç¨‹ã€‚",
            "resources_cat2_title": "ç»ƒä¹ å¹³å°", "resources_cat2_item1_desc": "- è§£å†³ç¼–ç æŒ‘æˆ˜ (kata)ã€‚", "resources_cat2_item2_desc": "- ç»ƒä¹ æ•°æ®ç»“æž„å’Œç®—æ³•ã€‚", "resources_cat2_item3_desc": "- ç¼–ç æŒ‘æˆ˜å’Œé¢è¯•å‡†å¤‡ã€‚",
            "resources_cat3_title": "ç¤¾åŒº", "resources_cat3_item1_desc": "- æé—®å’Œå›žç­”é—®é¢˜ã€‚", "resources_cat3_item2_desc": "- è®¨è®ºã€æ–°é—»å’Œå¸®åŠ©ã€‚", "resources_cat3_item3_desc": "- æŽ¢ç´¢å¼€æºé¡¹ç›®å¹¶åšå‡ºè´¡çŒ®ã€‚",
            "completion_title": "æ‚¨åšåˆ°äº†ï¼æ­å–œï¼", "completion_desc": "è¿™ä»…ä»…æ˜¯æ‚¨ç¼–ç å†’é™©çš„å¼€å§‹ã€‚æ‚¨å·²ç»æŽŒæ¡äº†å¼ºå¤§çš„å·¥å…·ï¼šPython å’Œè®¡ç®—æ€ç»´ã€‚ç»§ç»­æŽ¢ç´¢ï¼Œç»§ç»­æž„å»ºï¼Œç»§ç»­å­¦ä¹ ï¼Œçœ‹çœ‹æ‚¨èƒ½åˆ›é€ å‡ºä»€ä¹ˆæƒŠäººçš„ä¸œè¥¿ï¼",
            "button_back_menu": "è¿”å›žè¯¾ç¨‹èœå•"
            // "button_view_certificate": "æŸ¥çœ‹è¯ä¹¦" // Optional
        }
    };


    document.addEventListener('DOMContentLoaded', () => {

        // --- Language Management Functions (Same as previous modules) ---
        function getStoredLanguage() { /* ... */
            const storedLang = localStorage.getItem('userLanguage');
            if (storedLang && translations[storedLang]) return storedLang;
            const browserLang = navigator.language || navigator.userLanguage;
            if (browserLang.startsWith('pt')) return 'pt';
            if (browserLang.startsWith('zh')) return 'zh';
            return 'en';
         }
        function setLanguage(lang) { /* ... */
             if (!translations[lang]) lang = 'en';
             localStorage.setItem('userLanguage', lang);
             document.documentElement.lang = lang;
             translatePage(lang);

             const langSelect = document.getElementById('languageSelect');
             if (langSelect) langSelect.value = lang;

             // Re-initialize Module 32 specific content if needed
              if (document.getElementById('concept-constellation')) {
                 setupConceptConstellation(); // Redraw concepts with new language
             }
             // Next Steps and Resources are mostly text, handled by translatePage
         }
        function getTranslation(key, lang, replacements = {}) { /* ... */
             let text = translations[lang]?.[key] ?? translations['en']?.[key] ?? `[${key}]`;
             for (const placeholder in replacements) {
                 const regex = new RegExp(`\\{${placeholder}\\}`, 'g');
                 text = text.replace(regex, replacements[placeholder]);
             }
             return text;
         }
        function translatePage(lang) { /* ... */
             if (!translations[lang]) lang = 'en';

             document.querySelectorAll('[data-translate]').forEach(el => {
                 const key = el.getAttribute('data-translate');
                 const translation = getTranslation(key, lang);
                  if (el.tagName === 'TITLE') { document.title = translation; }
                  else if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') { /* Skip */ }
                  else if (el.tagName === 'OPTION') { el.textContent = translation; }
                  else {
                      // Use innerHTML only if needed (e.g., for <strong>, <i>)
                      if (translation.includes('<') && translation.includes('>')) { el.innerHTML = translation; }
                      else { el.textContent = translation; } // Default, safer
                  }
             });

             document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                 const key = el.getAttribute('data-translate-placeholder');
                 const translation = getTranslation(key, lang);
                 el.setAttribute('placeholder', translation);
             });

              document.querySelectorAll('[data-translate-title]').forEach(el => {
                  const key = el.getAttribute('data-translate-title');
                  const translation = getTranslation(key, lang);
                  el.setAttribute('title', translation);
              });
         }

        // --- Initialize Language ---
        const initialLang = getStoredLanguage();

        // --- Minimal Nav Logic (Same as previous modules) ---
        const navToggleButton = document.getElementById('minimal-nav-toggle');
        const navPanel = document.getElementById('minimal-nav-panel');
        const body = document.body;
        if (navToggleButton && navPanel) { /* ... same event listeners ... */
            navToggleButton.addEventListener('click', (event) => { event.stopPropagation(); body.classList.toggle('nav-active'); navToggleButton.setAttribute('aria-expanded', body.classList.contains('nav-active')); });
            document.addEventListener('click', (event) => { if (body.classList.contains('nav-active') && !navPanel.contains(event.target) && event.target !== navToggleButton && !navToggleButton.contains(event.target) ) { body.classList.remove('nav-active'); navToggleButton.setAttribute('aria-expanded', 'false'); } });
            navPanel.querySelectorAll('a').forEach(link => { link.addEventListener('click', () => { body.classList.remove('nav-active'); navToggleButton.setAttribute('aria-expanded', 'false'); }); });
            document.addEventListener('keydown', (event) => { if (event.key === 'Escape' && body.classList.contains('nav-active')) { body.classList.remove('nav-active'); navToggleButton.setAttribute('aria-expanded', 'false'); } });
            navToggleButton.setAttribute('aria-expanded', 'false');
         }

        // --- Language Switcher Setup (Same as previous modules) ---
        const langSelect = document.getElementById('languageSelect');
        if (langSelect) {
            langSelect.addEventListener('change', (e) => { setLanguage(e.target.value); });
        }

        // --- Helper Function for Feedback (Keep available, might not be used heavily) ---
        function showFeedback(elementId, messageKey, type = 'info', replacements = {}) { /* ... same ... */
             const feedbackEl = document.getElementById(elementId);
             if (!feedbackEl) { console.error(`Feedback element not found: ${elementId}`); return; }
             const currentLang = getStoredLanguage();
             const translatedMessage = getTranslation(messageKey, currentLang, replacements);
              if (translatedMessage.includes('<') && translatedMessage.includes('>')) { feedbackEl.innerHTML = translatedMessage; }
              else { feedbackEl.textContent = translatedMessage; }
             feedbackEl.className = 'feedback-message'; // Reset classes first
             feedbackEl.classList.add('visible', type);
             // No glow/shake needed for this module's interactions usually
         }

        // --- Activity 1: Concept Constellation ---
        const constellationSection = document.getElementById('concept-constellation');
        if (constellationSection) {
            const conceptsContainer = document.getElementById('concepts-container');
            const statusP = document.getElementById('concept-status');
            const dataContainer = document.getElementById('concept-data');
            let currentConceptListeners = [];

            function createConceptElement(conceptData, currentLang) {
                const conceptItem = document.createElement('div');
                conceptItem.classList.add('concept-item');
                conceptItem.textContent = getTranslation(conceptData.key, currentLang); // Get concept name
                conceptItem.dataset.key = conceptData.key;
                // Add tooltip using the title attribute (will be translated automatically by translatePage)
                conceptItem.dataset.translateTitle = conceptData.tooltipKey;
                conceptItem.title = getTranslation(conceptData.tooltipKey, currentLang); // Set initial title

                return conceptItem;
            }

            function setupConceptConstellation() {
                const currentLang = getStoredLanguage();
                currentConceptListeners.forEach(({ element, listener }) => {
                    element.removeEventListener('click', listener);
                });
                currentConceptListeners = [];
                conceptsContainer.innerHTML = ''; // Clear previous items

                // Get data from hidden spans
                 const conceptSpans = dataContainer.querySelectorAll('span[data-key]');
                 const conceptsData = Array.from(conceptSpans).map(span => ({
                     key: span.getAttribute('data-key'),
                     tooltipKey: span.getAttribute('data-tooltip-key')
                 }));

                // Shuffle concepts for visual variety
                conceptsData.sort(() => Math.random() - 0.5);

                conceptsData.forEach(conceptData => {
                    const conceptElement = createConceptElement(conceptData, currentLang);
                    conceptsContainer.appendChild(conceptElement);

                    const conceptClickListener = () => {
                        // Simple toggle visual feedback
                        conceptElement.classList.toggle('selected');
                        // Update status (optional, could show tooltip text here instead)
                        statusP.textContent = conceptElement.title; // Show tooltip text in status
                        // Deselect others if only one should be selected at a time (optional)
                        // conceptsContainer.querySelectorAll('.concept-item.selected').forEach(item => {
                        //     if (item !== conceptElement) item.classList.remove('selected');
                        // });
                    };
                    conceptElement.addEventListener('click', conceptClickListener);
                    currentConceptListeners.push({ element: conceptElement, listener: conceptClickListener });
                });

                 // Reset status message
                 statusP.innerHTML = getTranslation('review_status_initial', currentLang);
            }

            // setupConceptConstellation(); // Called by setLanguage / initial setup
        }


        // --- Activities 2 & 3 (Next Steps, Resources) ---
        // Primarily static content, translation handled by core functions.
        // No specific JS needed for setup unless adding more interactivity later.


        // --- Fade-in animations on scroll (Same as previous modules) ---
        const fadeElements = document.querySelectorAll('.fade-in');
        const animateOnScroll = () => { /* ... same ... */
             const windowHeight = window.innerHeight;
             fadeElements.forEach(el => {
                 if (el.style.opacity === '1') return; // Already visible
                 const rect = el.getBoundingClientRect();
                 if (rect.top < windowHeight - 60 && rect.bottom >= 40) {
                     el.style.opacity = '1';
                     el.style.transform = 'translateY(0)';
                 }
             });
         };
        const scrollHandler = () => window.requestAnimationFrame(animateOnScroll);
        window.addEventListener('scroll', scrollHandler);


        // --- Initial Language Application and Activity Setups ---
        setLanguage(initialLang); // Apply language FIRST
        animateOnScroll(); // Trigger initial animation check

        // Call initial setups *after* language is set
        if (document.getElementById('concept-constellation')) setupConceptConstellation();

    }); // End DOMContentLoaded
    </script>

</body>
</html>