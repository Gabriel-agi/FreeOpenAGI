<!DOCTYPE html>
<!-- Language set by JS -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title set by JS -->
    <title data-translate="page_title">Knowledge Check: Module 13 - Python Course</title>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Base Styles & Variables (Copied from dashboard) --- */
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-page: #f0f2f5;
            --background-card: #ffffff;
            --background-sidebar: #ffffff; /* Not used here, but keep for consistency */
            --background-header: linear-gradient(135deg, #0d6efd, #0a58ca);
            --text-light: #f8f9fa;
            --text-dark: #343a40;
            --text-muted: #6c757d;
            --accent-color: #ffc107;
            --success-color: #198754;
            --error-color: #dc3545;
            --info-color: #0dcaf0;
            --check-color: #6f42c1; /* Color for checkmark/quiz */
            --certificate-color: #d63384; /* Reusing for lang switcher border */
            --progress-bg: #e9ecef;
            --progress-fill: var(--check-color); /* Use check color for progress */
            --border-color: #dee2e6;
            --border-radius: 8px;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            --card-shadow-hover: 0 6px 18px rgba(0, 0, 0, 0.1);
            --transition-speed: 0.3s;
            --font-body: 'Roboto', sans-serif;
            --font-title: 'Orbitron', sans-serif;
             /* Colors for lang switcher */
             --lang-select-border: var(--certificate-color);
             --lang-select-bg: rgba(255, 255, 255, 0.1);
             --lang-select-bg-hover: rgba(255, 255, 255, 0.15);
             --lang-option-bg: var(--background-card);
             --lang-option-text: var(--text-dark);
             --lang-arrow-color: var(--certificate-color);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body {
            font-family: var(--font-body); line-height: 1.6;
            background-color: var(--background-page); color: var(--text-dark);
            display: flex; flex-direction: column; min-height: 100vh;
        }

        /* --- Animations --- */
        .fade-in { opacity: 0; animation: fadeInAnimation 0.6s ease-out forwards; }
        @keyframes fadeInAnimation { to { opacity: 1; } }

        /* --- Knowledge Check Header --- */
        .kc-header {
            background: var(--background-header);
            color: var(--text-light);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky; /* Keep header visible */
            top: 0;
            z-index: 100;
        }
        .header-left { display: flex; align-items: center; gap: 1rem;}
        .return-button {
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: var(--border-radius);
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
            display: inline-flex;
            align-items: center;
        }
        .return-button i { margin-right: 8px; }
        .return-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.8);
        }
        .kc-header h1 {
            font-family: var(--font-title);
            font-size: 1.5rem; /* Slightly smaller than dashboard */
            margin: 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);
        }
        /* Language Switcher in Header */
         .language-switcher-header { margin: 0; width: 180px; }
         #languageSelect {
            width: 100%;
            background: var(--lang-select-bg);
            color: var(--text-light);
            border: 1px solid var(--lang-select-border);
            border-radius: 5px;
            padding: 6px 30px 6px 12px; /* Adjusted padding */
            cursor: pointer;
            font-size: 0.9rem; /* Slightly smaller */
            font-weight: 500;
            appearance: none; -webkit-appearance: none; -moz-appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23${encodeURIComponent(getComputedStyle(document.documentElement).getPropertyValue('--certificate-color').trim().substring(1))}%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 9px auto;
            transition: all 0.3s ease;
         }
         #languageSelect:hover { border-color: #fff; background-color: var(--lang-select-bg-hover); }
         #languageSelect:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.3); }
         #languageSelect option {
              background: var(--lang-option-bg);
              color: var(--lang-option-text);
              padding: 5px;
         }

        /* --- Main Quiz Area --- */
        .quiz-container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: var(--background-card);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
            flex-grow: 1; /* Make container take available space */
        }

        .quiz-intro {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        .quiz-intro h2 {
            font-family: var(--font-title);
            font-size: 1.6rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .quiz-intro p {
            font-size: 0.95rem;
            color: var(--text-muted);
            margin-bottom: 0.3rem;
        }
        .quiz-intro strong { color: var(--text-dark); }
        .quiz-intro .pass-score { color: var(--success-color); font-weight: 700;}
        .quiz-intro .attempts { color: var(--info-color); font-weight: 500; }

        /* --- Question Styling --- */
        #quiz-form fieldset { border: none; padding: 0; margin: 0; } /* Reset fieldset */
        .question-block {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px dashed var(--border-color);
        }
        .question-block:last-of-type { border-bottom: none; margin-bottom: 0; padding-bottom: 0;}

        .question-text {
            font-weight: 500;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }
        .question-text .q-number { /* Style question number */
            display: inline-block;
            background-color: var(--primary-color);
            color: var(--text-light);
            border-radius: 50%;
            width: 28px;
            height: 28px;
            line-height: 28px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 700;
            margin-right: 10px;
        }
        .question-text code { /* Style code within questions */
             font-size: 0.95em;
             background: #eee;
             padding: 2px 5px;
             border-radius: 3px;
             color: #c7254e;
             font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
        }

        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        .answer-option label {
            display: block;
            background-color: #f8f9fa;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 0.8rem 1rem;
            cursor: pointer;
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
            font-size: 0.95rem;
        }
        .answer-option input[type="radio"] {
            margin-right: 10px;
            vertical-align: middle;
            accent-color: var(--primary-color); /* Modern browsers */
            cursor: pointer;
            transform: scale(1.1);
        }
         .answer-option label code { /* Style code within answers */
             font-size: 0.9em;
             background: #e9ecef;
             padding: 1px 4px;
             border-radius: 3px;
             color: #c7254e;
         }

        .answer-option label:hover {
            background-color: #eef5ff;
            border-color: var(--primary-color);
        }
        .answer-option input[type="radio"]:checked + label {
            background-color: #d1e7ff;
            border-color: var(--primary-color);
            font-weight: 500;
        }
         /* Hide actual radio button, style the label */
        .answer-option input[type="radio"] {
             opacity: 0;
             position: fixed;
             width: 0;
        }
         .answer-option label {
            position: relative;
            padding-left: 35px; /* Space for custom radio */
         }
         .answer-option label::before { /* Custom radio button circle */
             content: '';
             position: absolute;
             left: 10px;
             top: 50%;
             transform: translateY(-50%);
             width: 18px;
             height: 18px;
             border: 2px solid var(--border-color);
             border-radius: 50%;
             background-color: #fff;
             transition: border-color 0.2s;
         }
         .answer-option label::after { /* Custom radio button dot */
             content: '';
             position: absolute;
             left: 15px; /* Center dot */
             top: 50%;
             transform: translateY(-50%) scale(0); /* Hide dot initially */
             width: 8px;
             height: 8px;
             border-radius: 50%;
             background-color: var(--primary-color);
             transition: transform 0.2s ease-in-out;
         }
         .answer-option input[type="radio"]:checked + label::before {
             border-color: var(--primary-color);
         }
         .answer-option input[type="radio"]:checked + label::after {
             transform: translateY(-50%) scale(1); /* Show dot when checked */
         }
         .answer-option input[type="radio"]:focus + label::before { /* Focus style */
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
         }


        /* --- Submit Button --- */
        .submit-button {
            display: block; /* Center button */
            width: fit-content;
            margin: 2.5rem auto 0 auto;
            padding: 0.8rem 2.5rem;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-light);
            background-color: var(--check-color);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed), transform var(--transition-speed);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .submit-button:hover {
            background-color: #5a34a1; /* Darker shade */
            transform: translateY(-2px);
        }
        .submit-button:disabled {
            background-color: var(--secondary-color);
            cursor: not-allowed;
            opacity: 0.7;
            transform: none;
        }

        /* --- Results Area --- */
        #quiz-results {
            margin-top: 2rem;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            display: none; /* Hidden initially */
        }
        #quiz-results.results-pass {
            background-color: #d1e7dd; /* Light green */
            border: 1px solid var(--success-color);
        }
        #quiz-results.results-fail {
            background-color: #f8d7da; /* Light red */
            border: 1px solid var(--error-color);
        }
        #quiz-results h3 {
            font-family: var(--font-title);
            margin-bottom: 0.8rem;
            font-size: 1.4rem;
        }
        #quiz-results .score {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        #quiz-results .message {
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }
        .results-pass h3, .results-pass .score { color: var(--success-color); }
        .results-fail h3, .results-fail .score { color: var(--error-color); }

        .retry-button, .results-return-button {
            display: inline-block;
            padding: 0.6rem 1.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-light);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed);
            text-decoration: none;
            margin: 0 0.5rem;
        }
        .retry-button { background-color: var(--accent-color); color: var(--text-dark); }
        .retry-button:hover { background-color: #e0a800; }
        .results-return-button { background-color: var(--secondary-color); }
        .results-return-button:hover { background-color: #5a6268; }

        /* Passed State Overlay/Indicator */
        .quiz-passed-overlay {
            text-align: center;
            padding: 2rem;
        }
        .quiz-passed-overlay i {
            font-size: 3rem;
            color: var(--success-color);
            margin-bottom: 1rem;
        }
        .quiz-passed-overlay h3 {
            font-family: var(--font-title);
            color: var(--success-color);
            margin-bottom: 1rem;
        }
         .quiz-passed-overlay p {
            color: var(--text-muted);
            margin-bottom: 1.5rem;
        }


        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem; /* Ensure space above footer */
            background-color: var(--background-card);
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* --- Responsive Design Adjustments --- */
        @media (max-width: 992px) {
            .quiz-container { margin: 1.5rem; padding: 1.5rem; }
            .kc-header h1 { font-size: 1.3rem; }
            .language-switcher-header { width: 150px; }
            #languageSelect { font-size: 0.85rem; padding: 5px 25px 5px 10px;}
        }
        @media (max-width: 768px) {
            html { font-size: 15px; }
            .kc-header { flex-direction: column; gap: 0.8rem; padding: 0.8rem 1rem;}
            .header-left { order: 1; flex-direction: column; align-items: flex-start; width: 100%;}
            .language-switcher-header { order: 2; align-self: flex-end; margin-top: 0.5rem; }
            .return-button { width: 100%; text-align: center; justify-content: center;}
            .kc-header h1 { font-size: 1.2rem; text-align: center; }
            .quiz-container { margin: 1rem; padding: 1rem; }
            .quiz-intro h2 { font-size: 1.4rem; }
            .question-text { font-size: 1rem; }
            .answer-option label { font-size: 0.9rem; padding: 0.7rem 0.8rem; padding-left: 30px;}
            .answer-option label::before { left: 8px; width: 16px; height: 16px;}
            .answer-option label::after { left: 12px; width: 8px; height: 8px;}
            .submit-button { padding: 0.7rem 2rem; font-size: 1rem;}
            #quiz-results h3 { font-size: 1.2rem; }
            #quiz-results .score { font-size: 1.1rem; }
        }
         @media (max-width: 576px) {
            html { font-size: 14px; }
             .kc-header h1 { font-size: 1.1rem; }
            .language-switcher-header { width: 130px; }
            .question-text .q-number { width: 24px; height: 24px; line-height: 24px; font-size: 0.8rem; margin-right: 8px; }
             .answer-option label { font-size: 0.85rem; padding: 0.6rem 0.7rem; padding-left: 28px; }
             .retry-button, .results-return-button { font-size: 0.9rem; padding: 0.5rem 1.2rem;}

         }
    </style>
</head>
<body>

    <header class="kc-header">
        <div class="header-left">
             <a href="ctp-dashboard.html" class="return-button">
                <i class="fas fa-arrow-left"></i> <span data-translate="return_button">Return to Dashboard</span>
            </a>
            <h1 data-translate="header_title">Knowledge Check: Module 13</h1>
        </div>
        <div class="language-switcher-header">
             <select id="languageSelect" data-translate-aria-label="lang_select_aria" aria-label="Select Language">
                <option value="en" data-translate="lang_en">🇬🇧 English</option>
                <option value="pt" data-translate="lang_pt">🇧🇷 Português</option>
                <option value="zh" data-translate="lang_zh">🇨🇳 中文</option>
            </select>
        </div>
    </header>

    <main class="quiz-container fade-in">

        <div class="quiz-intro">
            <h2 data-translate="quiz_module_title">Module 13: Loops - Over Data</h2>
            <p data-translate="quiz_instructions">Test your understanding of iterating over lists and strings.</p>
            <p><span data-translate="quiz_passing_score">Passing Score:</span> <strong class="pass-score">6 / 10</strong></p>
            <p><span data-translate="quiz_attempts">Attempts:</span> <strong class="attempts" data-translate="quiz_attempts_unlimited">Unlimited</strong></p>
        </div>

        <div id="quiz-content">
            <form id="quiz-form">
             <fieldset> <!-- Good practice for form accessibility -->
                <!-- Question 1 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">1</span><span data-translate="q1_text">Which is the correct syntax to loop through each element in a list called `my_data`?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q1a" name="q1" value="a"><label for="q1a" data-translate="q1_a"><code>for item in my_data:</code></label></div>
                        <div class="answer-option"><input type="radio" id="q1b" name="q1" value="b"><label for="q1b" data-translate="q1_b"><code>loop item over my_data:</code></label></div>
                        <div class="answer-option"><input type="radio" id="q1c" name="q1" value="c"><label for="q1c" data-translate="q1_c"><code>for my_data get item:</code></label></div>
                        <div class="answer-option"><input type="radio" id="q1d" name="q1" value="d"><label for="q1d" data-translate="q1_d"><code>while item in my_data:</code></label></div>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">2</span><span data-translate="q2_text">In the loop `for value in numbers:`, what does the variable `value` represent during each iteration?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q2a" name="q2" value="a"><label for="q2a" data-translate="q2_a">The index of the current element.</label></div>
                        <div class="answer-option"><input type="radio" id="q2b" name="q2" value="b"><label for="q2b" data-translate="q2_b">One element from the `numbers` list/sequence.</label></div>
                        <div class="answer-option"><input type="radio" id="q2c" name="q2" value="c"><label for="q2c" data-translate="q2_c">The entire `numbers` list.</label></div>
                        <div class="answer-option"><input type="radio" id="q2d" name="q2" value="d"><label for="q2d" data-translate="q2_d">A boolean value indicating if the loop continues.</label></div>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">3</span><span data-translate="q3_text">How would you iterate through each character in a string variable called `message`?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q3a" name="q3" value="a"><label for="q3a" data-translate="q3_a"><code>for i in range(len(message)):</code></label></div>
                        <div class="answer-option"><input type="radio" id="q3b" name="q3" value="b"><label for="q3b" data-translate="q3_b"><code>for char in message:</code></label></div>
                        <div class="answer-option"><input type="radio" id="q3c" name="q3" value="c"><label for="q3c" data-translate="q3_c"><code>iterate char over message:</code></label></div>
                        <div class="answer-option"><input type="radio" id="q3d" name="q3" value="d"><label for="q3d" data-translate="q3_d"><code>while message has chars:</code></label></div>
                    </div>
                </div>

                 <!-- Question 4 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">4</span><span data-translate="q4_text">Consider the code: `word = "Py"; for letter in word: print(letter)`. What is the output?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q4a" name="q4" value="a"><label for="q4a" data-translate="q4_a">Py</label></div>
                        <div class="answer-option"><input type="radio" id="q4b" name="q4" value="b"><label for="q4b" data-translate="q4_b">P y</label></div>
                        <div class="answer-option"><input type="radio" id="q4c" name="q4" value="c"><label for="q4c" data-translate="q4_c">P<br>y</label></div>
                        <div class="answer-option"><input type="radio" id="q4d" name="q4" value="d"><label for="q4d" data-translate="q4_d">['P', 'y']</label></div>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">5</span><span data-translate="q5_text">You have a list `scores = [88, 92, 100]`. Which loop prints each score on a new line?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q5a" name="q5" value="a"><label for="q5a" data-translate="q5_a"><code>print(scores)</code></label></div>
                        <div class="answer-option"><input type="radio" id="q5b" name="q5" value="b"><label for="q5b" data-translate="q5_b"><code>for s in scores: print(s)</code></label></div>
                        <div class="answer-option"><input type="radio" id="q5c" name="q5" value="c"><label for="q5c" data-translate="q5_c"><code>for i in range(scores): print(i)</code></label></div>
                        <div class="answer-option"><input type="radio" id="q5d" name="q5" value="d"><label for="q5d" data-translate="q5_d"><code>print(scores[0], scores[1], scores[2])</code></label></div>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">6</span><span data-translate="q6_text">What is the primary purpose of a `for item in sequence:` loop?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q6a" name="q6" value="a"><label for="q6a" data-translate="q6_a">To define a new function.</label></div>
                        <div class="answer-option"><input type="radio" id="q6b" name="q6" value="b"><label for="q6b" data-translate="q6_b">To make decisions based on a condition.</label></div>
                        <div class="answer-option"><input type="radio" id="q6c" name="q6" value="c"><label for="q6c" data-translate="q6_c">To execute a block of code repeatedly for each element in a sequence.</label></div>
                        <div class="answer-option"><input type="radio" id="q6d" name="q6" value="d"><label for="q6d" data-translate="q6_d">To get input from the user.</label></div>
                    </div>
                </div>

                 <!-- Question 7 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">7</span><span data-translate="q7_text">In the statement `for char in "Hello":`, what part is the "iterable"?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q7a" name="q7" value="a"><label for="q7a" data-translate="q7_a"><code>for</code></label></div>
                        <div class="answer-option"><input type="radio" id="q7b" name="q7" value="b"><label for="q7b" data-translate="q7_b"><code>char</code></label></div>
                        <div class="answer-option"><input type="radio" id="q7c" name="q7" value="c"><label for="q7c" data-translate="q7_c"><code>"Hello"</code></label></div>
                        <div class="answer-option"><input type="radio" id="q7d" name="q7" value="d"><label for="q7d" data-translate="q7_d"><code>:</code> (the colon)</label></div>
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">8</span><span data-translate="q8_text">Can you use a `for item in sequence:` loop to iterate over the elements of a tuple? (e.g., `my_tuple = (1, 2, 3)`)</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q8a" name="q8" value="a"><label for="q8a" data-translate="q8_a">Yes, tuples are sequences and can be iterated over.</label></div>
                        <div class="answer-option"><input type="radio" id="q8b" name="q8" value="b"><label for="q8b" data-translate="q8_b">No, this loop only works for lists.</label></div>
                        <div class="answer-option"><input type="radio" id="q8c" name="q8" value="c"><label for="q8c" data-translate="q8_c">No, this loop only works for strings.</label></div>
                        <div class="answer-option"><input type="radio" id="q8d" name="q8" value="d"><label for="q8d" data-translate="q8_d">Only if the tuple contains numbers.</label></div>
                    </div>
                </div>

                 <!-- Question 9 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">9</span><span data-translate="q9_text">What is an advantage of using `for element in data:` compared to using `for i in range(len(data)): print(data[i])` for simple iteration?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q9a" name="q9" value="a"><label for="q9a" data-translate="q9_a">It is significantly faster.</label></div>
                        <div class="answer-option"><input type="radio" id="q9b" name="q9" value="b"><label for="q9b" data-translate="q9_b">It requires less code and is often more readable.</label></div>
                        <div class="answer-option"><input type="radio" id="q9c" name="q9" value="c"><label for="q9c" data-translate="q9_c">It only works for lists of numbers.</label></div>
                        <div class="answer-option"><input type="radio" id="q9d" name="q9" value="d"><label for="q9d" data-translate="q9_d">It allows you to modify the list while iterating safely.</label></div>
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="question-block">
                    <p class="question-text"><span class="q-number">10</span><span data-translate="q10_text">The concept of using a `for` loop to process each item without needing to know *how* the items are stored (e.g., index numbers) is an example of which Computational Thinking principle?</span></p>
                    <div class="answer-options">
                        <div class="answer-option"><input type="radio" id="q10a" name="q10" value="a"><label for="q10a" data-translate="q10_a">Decomposition</label></div>
                        <div class="answer-option"><input type="radio" id="q10b" name="q10" value="b"><label for="q10b" data-translate="q10_b">Pattern Recognition</label></div>
                        <div class="answer-option"><input type="radio" id="q10c" name="q10" value="c"><label for="q10c" data-translate="q10_c">Abstraction</label></div>
                        <div class="answer-option"><input type="radio" id="q10d" name="q10" value="d"><label for="q10d" data-translate="q10_d">Algorithm Design</label></div>
                    </div>
                </div>
                </fieldset>
                <button type="submit" class="submit-button" data-translate="submit_button">Submit Answers</button>
            </form>
        </div>

        <div id="quiz-results">
             <!-- Content generated by JS -->
             <h3 data-translate="results_title">Results</h3>
             <p class="score"><span data-translate="results_score_label">Your Score:</span> <span id="score-value">0</span> / 10</p>
             <p class="message" id="results-message"></p>
             <div class="results-actions">
                 <button id="retry-button" class="retry-button" style="display: none;" data-translate="retry_button">Retry Quiz</button>
                 <a href="ctp-dashboard.html" class="results-return-button" data-translate="return_button_results">Return to Dashboard</a>
             </div>
        </div>

         <div id="quiz-passed-state" class="quiz-passed-overlay" style="display: none;">
            <!-- Content shown if already passed -->
             <i class="fas fa-check-circle"></i>
             <h3 data-translate="passed_title">Already Passed!</h3>
             <p data-translate="passed_message">You have already successfully completed the knowledge check for this module.</p>
              <a href="ctp-dashboard.html" class="results-return-button" data-translate="return_button_results">Return to Dashboard</a>
         </div>

    </main>

    <footer>
        <p data-translate="footer_text">Part of the Road to Free Open AGI Project</p>
    </footer>

    <script>
        const MODULE_ID = 13; // <<< Unique ID for this knowledge check
        const PASSING_SCORE = 6;
        const KNOWLEDGE_CHECK_STORAGE_KEY = 'knowledgeCheckStatus_v1';
        const LANGUAGE_STORAGE_KEY = 'userLanguage';

        // --- Correct Answers ---
        const correctAnswers = {
            q1: 'a', q2: 'b', q3: 'b', q4: 'c', q5: 'b',
            q6: 'c', q7: 'c', q8: 'a', q9: 'b', q10: 'c'
        };
        const totalQuestions = Object.keys(correctAnswers).length;

        // --- Translations Object ---
        const translations = {
            en: {
                "page_title": `Knowledge Check: Module ${MODULE_ID} - Python Course`,
                "header_title": `Knowledge Check: Module ${MODULE_ID}`,
                "return_button": "Return to Dashboard",
                "quiz_module_title": "Module 13: Loops - Over Data",
                "quiz_instructions": "Test your understanding of iterating over lists and strings.",
                "quiz_passing_score": "Passing Score:",
                "quiz_attempts": "Attempts:",
                "quiz_attempts_unlimited": "Unlimited",
                "q1_text": "Which is the correct syntax to loop through each element in a list called `my_data`?",
                "q1_a": "`for item in my_data:`", "q1_b": "`loop item over my_data:`", "q1_c": "`for my_data get item:`", "q1_d": "`while item in my_data:`",
                "q2_text": "In the loop `for value in numbers:`, what does the variable `value` represent during each iteration?",
                "q2_a": "The index of the current element.", "q2_b": "One element from the `numbers` list/sequence.", "q2_c": "The entire `numbers` list.", "q2_d": "A boolean value indicating if the loop continues.",
                "q3_text": "How would you iterate through each character in a string variable called `message`?",
                "q3_a": "`for i in range(len(message)):`", "q3_b": "`for char in message:`", "q3_c": "`iterate char over message:`", "q3_d": "`while message has chars:`",
                "q4_text": "Consider the code: `word = \"Py\"; for letter in word: print(letter)`. What is the output?",
                "q4_a": "Py", "q4_b": "P y", "q4_c": "P<br>y", "q4_d": "['P', 'y']", // Use <br> for newline in HTML label
                "q5_text": "You have a list `scores = [88, 92, 100]`. Which loop prints each score on a new line?",
                "q5_a": "`print(scores)`", "q5_b": "`for s in scores: print(s)`", "q5_c": "`for i in range(scores): print(i)`", "q5_d": "`print(scores[0], scores[1], scores[2])`",
                "q6_text": "What is the primary purpose of a `for item in sequence:` loop?",
                "q6_a": "To define a new function.", "q6_b": "To make decisions based on a condition.", "q6_c": "To execute a block of code repeatedly for each element in a sequence.", "q6_d": "To get input from the user.",
                "q7_text": "In the statement `for char in \"Hello\":`, what part is the \"iterable\"?",
                "q7_a": "`for`", "q7_b": "`char`", "q7_c": "`\"Hello\"`", "q7_d": "`:` (the colon)",
                "q8_text": "Can you use a `for item in sequence:` loop to iterate over the elements of a tuple? (e.g., `my_tuple = (1, 2, 3)`)",
                "q8_a": "Yes, tuples are sequences and can be iterated over.", "q8_b": "No, this loop only works for lists.", "q8_c": "No, this loop only works for strings.", "q8_d": "Only if the tuple contains numbers.",
                "q9_text": "What is an advantage of using `for element in data:` compared to using `for i in range(len(data)): print(data[i])` for simple iteration?",
                "q9_a": "It is significantly faster.", "q9_b": "It requires less code and is often more readable.", "q9_c": "It only works for lists of numbers.", "q9_d": "It allows you to modify the list while iterating safely.",
                "q10_text": "The concept of using a `for` loop to process each item without needing to know *how* the items are stored (e.g., index numbers) is an example of which Computational Thinking principle?",
                "q10_a": "Decomposition", "q10_b": "Pattern Recognition", "q10_c": "Abstraction", "q10_d": "Algorithm Design",
                "submit_button": "Submit Answers",
                "results_title": "Results",
                "results_score_label": "Your Score:",
                "results_message_pass": `Congratulations! You passed with a score of {score}/${totalQuestions}. Your progress for Module ${MODULE_ID} is saved.`,
                "results_message_fail": `You scored {score}/${totalQuestions}. You need at least ${PASSING_SCORE} correct answers to pass. Please review the material and try again!`,
                "retry_button": "Retry Quiz",
                "return_button_results": "Return to Dashboard",
                "passed_title": "Already Passed!",
                "passed_message": `You have already successfully completed the knowledge check for Module ${MODULE_ID}.`,
                "lang_select_aria": "Select Language",
                "lang_en": "🇬🇧 English", "lang_pt": "🇧🇷 Português", "lang_zh": "🇨🇳 中文",
                "footer_text": "Part of the Road to Free Open AGI Project"
            },
            pt: {
                 "page_title": `Verificação de Conhecimento: Módulo ${MODULE_ID} - Curso de Python`,
                 "header_title": `Verificação: Módulo ${MODULE_ID}`,
                 "return_button": "Voltar ao Painel",
                 "quiz_module_title": "Módulo 13: Loops - Sobre Dados",
                 "quiz_instructions": "Teste seu entendimento sobre iteração em listas e strings.",
                 "quiz_passing_score": "Pontuação para Aprovação:",
                 "quiz_attempts": "Tentativas:",
                 "quiz_attempts_unlimited": "Ilimitadas",
                 "q1_text": "Qual é a sintaxe correta para percorrer cada elemento em uma lista chamada `my_data`?",
                 "q1_a": "`for item in my_data:`", "q1_b": "`loop item over my_data:`", "q1_c": "`for my_data get item:`", "q1_d": "`while item in my_data:`",
                 "q2_text": "No loop `for value in numbers:`, o que a variável `value` representa durante cada iteração?",
                 "q2_a": "O índice do elemento atual.", "q2_b": "Um elemento da lista/sequência `numbers`.", "q2_c": "A lista `numbers` inteira.", "q2_d": "Um valor booleano indicando se o loop continua.",
                 "q3_text": "Como você iteraria por cada caractere em uma variável string chamada `message`?",
                 "q3_a": "`for i in range(len(message)):`", "q3_b": "`for char in message:`", "q3_c": "`iterate char over message:`", "q3_d": "`while message has chars:`",
                 "q4_text": "Considere o código: `word = \"Py\"; for letter in word: print(letter)`. Qual é a saída?",
                 "q4_a": "Py", "q4_b": "P y", "q4_c": "P<br>y", "q4_d": "['P', 'y']",
                 "q5_text": "Você tem uma lista `scores = [88, 92, 100]`. Qual loop imprime cada pontuação em uma nova linha?",
                 "q5_a": "`print(scores)`", "q5_b": "`for s in scores: print(s)`", "q5_c": "`for i in range(scores): print(i)`", "q5_d": "`print(scores[0], scores[1], scores[2])`",
                 "q6_text": "Qual é o propósito principal de um loop `for item in sequence:`?",
                 "q6_a": "Definir uma nova função.", "q6_b": "Tomar decisões com base em uma condição.", "q6_c": "Executar um bloco de código repetidamente para cada elemento em uma sequência.", "q6_d": "Obter entrada do usuário.",
                 "q7_text": "Na instrução `for char in \"Hello\":`, qual parte é o \"iterável\"?",
                 "q7_a": "`for`", "q7_b": "`char`", "q7_c": "`\"Hello\"`", "q7_d": "`:` (os dois pontos)",
                 "q8_text": "Você pode usar um loop `for item in sequence:` para iterar sobre os elementos de uma tupla? (ex: `my_tuple = (1, 2, 3)`)",
                 "q8_a": "Sim, tuplas são sequências e podem ser iteradas.", "q8_b": "Não, este loop funciona apenas para listas.", "q8_c": "Não, este loop funciona apenas para strings.", "q8_d": "Apenas se a tupla contiver números.",
                 "q9_text": "Qual é uma vantagem de usar `for element in data:` em comparação com `for i in range(len(data)): print(data[i])` para iteração simples?",
                 "q9_a": "É significativamente mais rápido.", "q9_b": "Requer menos código e geralmente é mais legível.", "q9_c": "Funciona apenas para listas de números.", "q9_d": "Permite modificar a lista com segurança durante a iteração.",
                 "q10_text": "O conceito de usar um loop `for` para processar cada item sem precisar saber *como* os itens são armazenados (ex: números de índice) é um exemplo de qual princípio do Pensamento Computacional?",
                 "q10_a": "Decomposição", "q10_b": "Reconhecimento de Padrões", "q10_c": "Abstração", "q10_d": "Design de Algoritmos",
                 "submit_button": "Enviar Respostas",
                 "results_title": "Resultados",
                 "results_score_label": "Sua Pontuação:",
                 "results_message_pass": `Parabéns! Você passou com uma pontuação de {score}/${totalQuestions}. Seu progresso para o Módulo ${MODULE_ID} foi salvo.`,
                 "results_message_fail": `Você marcou {score}/${totalQuestions}. Você precisa de pelo menos ${PASSING_SCORE} respostas corretas para passar. Por favor, revise o material e tente novamente!`,
                 "retry_button": "Tentar Novamente",
                 "return_button_results": "Voltar ao Painel",
                 "passed_title": "Já Aprovado!",
                 "passed_message": `Você já completou com sucesso a verificação de conhecimento para o Módulo ${MODULE_ID}.`,
                 "lang_select_aria": "Selecionar Idioma",
                 "lang_en": "🇬🇧 English", "lang_pt": "🇧🇷 Português", "lang_zh": "🇨🇳 中文",
                 "footer_text": "Parte do Projeto Road to Free Open AGI"
            },
            zh: {
                "page_title": `知识测验：模块 ${MODULE_ID} - Python 课程`,
                "header_title": `知识测验：模块 ${MODULE_ID}`,
                "return_button": "返回仪表板",
                "quiz_module_title": "模块 13: 循环 - 遍历数据",
                "quiz_instructions": "测试您对遍历列表和字符串的理解。",
                "quiz_passing_score": "及格分数：",
                "quiz_attempts": "尝试次数：",
                "quiz_attempts_unlimited": "无限",
                "q1_text": "以下哪项是遍历名为 `my_data` 的列表中每个元素的正确语法？",
                "q1_a": "`for item in my_data:`", "q1_b": "`loop item over my_data:`", "q1_c": "`for my_data get item:`", "q1_d": "`while item in my_data:`",
                "q2_text": "在循环 `for value in numbers:` 中，变量 `value` 在每次迭代中代表什么？",
                "q2_a": "当前元素的索引。", "q2_b": "`numbers` 列表/序列中的一个元素。", "q2_c": "整个 `numbers` 列表。", "q2_d": "一个指示循环是否继续的布尔值。",
                "q3_text": "您将如何遍历名为 `message` 的字符串变量中的每个字符？",
                "q3_a": "`for i in range(len(message)):`", "q3_b": "`for char in message:`", "q3_c": "`iterate char over message:`", "q3_d": "`while message has chars:`",
                "q4_text": "考虑代码：`word = \"Py\"; for letter in word: print(letter)`。输出是什么？",
                "q4_a": "Py", "q4_b": "P y", "q4_c": "P<br>y", "q4_d": "['P', 'y']",
                "q5_text": "您有一个列表 `scores = [88, 92, 100]`。哪个循环将每个分数打印在新行上？",
                "q5_a": "`print(scores)`", "q5_b": "`for s in scores: print(s)`", "q5_c": "`for i in range(scores): print(i)`", "q5_d": "`print(scores[0], scores[1], scores[2])`",
                "q6_text": "`for item in sequence:` 循环的主要目的是什么？",
                "q6_a": "定义一个新函数。", "q6_b": "根据条件做出决定。", "q6_c": "对序列中的每个元素重复执行代码块。", "q6_d": "从用户那里获取输入。",
                "q7_text": "在语句 `for char in \"Hello\":` 中，哪部分是“可迭代对象”？",
                "q7_a": "`for`", "q7_b": "`char`", "q7_c": "`\"Hello\"`", "q7_d": "`:` (冒号)",
                "q8_text": "您可以使用 `for item in sequence:` 循环来迭代元组的元素吗？ (例如 `my_tuple = (1, 2, 3)`)",
                "q8_a": "是的，元组是序列，可以被迭代。", "q8_b": "不，这个循环只适用于列表。", "q8_c": "不，这个循环只适用于字符串。", "q8_d": "仅当元组包含数字时。",
                "q9_text": "对于简单的迭代，使用 `for element in data:` 与使用 `for i in range(len(data)): print(data[i])` 相比有什么优势？",
                "q9_a": "它明显更快。", "q9_b": "它需要的代码更少，并且通常更具可读性。", "q9_c": "它只适用于数字列表。", "q9_d": "它允许您在迭代时安全地修改列表。",
                "q10_text": "使用 `for` 循环处理每个项目而无需知道项目是如何存储的（例如，索引号）的概念是计算思维中哪个原则的示例？",
                "q10_a": "分解 (Decomposition)", "q10_b": "模式识别 (Pattern Recognition)", "q10_c": "抽象 (Abstraction)", "q10_d": "算法设计 (Algorithm Design)",
                "submit_button": "提交答案",
                "results_title": "结果",
                "results_score_label": "你的分数：",
                "results_message_pass": `恭喜！您以 {score}/${totalQuestions} 的分数通过了。模块 ${MODULE_ID} 的进度已保存。`,
                "results_message_fail": `您的得分是 {score}/${totalQuestions}。您需要至少答对 ${PASSING_SCORE} 题才能通过。请复习相关内容后重试！`,
                "retry_button": "重新测验",
                "return_button_results": "返回仪表板",
                "passed_title": "已通过！",
                "passed_message": `您已经成功完成了模块 ${MODULE_ID} 的知识测验。`,
                "lang_select_aria": "选择语言",
                "lang_en": "🇬🇧 English", "lang_pt": "🇧🇷 Português", "lang_zh": "🇨🇳 中文",
                "footer_text": "通往自由开放 AGI 之路项目的一部分"
            }
        };

        // --- Helper Functions ---
        function loadKnowledgeCheckStatus() {
             try { const storedStatus = localStorage.getItem(KNOWLEDGE_CHECK_STORAGE_KEY); const parsed = storedStatus ? JSON.parse(storedStatus) : {}; return typeof parsed === 'object' && parsed !== null ? parsed : {}; } catch (e) { console.error("Error reading KC status from localStorage:", e); return {}; }
        }
        function saveKnowledgeCheckStatus(statusObject) {
             try { localStorage.setItem(KNOWLEDGE_CHECK_STORAGE_KEY, JSON.stringify(statusObject)); } catch (e) { console.error("Error saving KC status to localStorage:", e); }
        }
        function getStoredLanguage() {
            const storedLang = localStorage.getItem(LANGUAGE_STORAGE_KEY);
            return (storedLang && translations[storedLang]) ? storedLang : 'en';
        }
         function getTranslation(key, lang, replacements = {}) { let text = translations[lang]?.[key] ?? translations['en']?.[key] ?? `[${key}]`; for (const placeholder in replacements) { const regex = new RegExp(`\\{${placeholder}\\}`, 'g'); text = text.replace(regex, replacements[placeholder]); } return text; }

        function translatePage(lang) {
            if (!translations[lang]) lang = 'en'; // Fallback
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                const translation = getTranslation(key, lang);
                 // Handle elements that might contain HTML (like question 4 answer c)
                 if (el.tagName === 'TITLE') { document.title = translation; }
                 else if (translation.includes('<') && translation.includes('>')) { el.innerHTML = translation; }
                 else { el.textContent = translation; }
            });
            document.querySelectorAll('[data-translate-aria-label]').forEach(el => { const key = el.getAttribute('data-translate-aria-label'); el.setAttribute('aria-label', getTranslation(key, lang)); });
        }

        // --- Quiz Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const quizForm = document.getElementById('quiz-form');
            const resultsDiv = document.getElementById('quiz-results');
            const scoreValueSpan = document.getElementById('score-value');
            const resultsMessageP = document.getElementById('results-message');
            const retryButton = document.getElementById('retry-button');
            const submitButton = quizForm.querySelector('.submit-button');
            const languageSelect = document.getElementById('languageSelect');
            const quizContentDiv = document.getElementById('quiz-content');
            const quizPassedDiv = document.getElementById('quiz-passed-state');

            let currentLanguage = getStoredLanguage();
            let knowledgeCheckStatus = loadKnowledgeCheckStatus();

            function updateUIForLanguage(lang) {
                 translatePage(lang);
                 // Update dynamic result messages if results are visible
                 if (resultsDiv.style.display !== 'none') {
                     const score = parseInt(scoreValueSpan.textContent, 10);
                     const passed = score >= PASSING_SCORE;
                     const messageKey = passed ? 'results_message_pass' : 'results_message_fail';
                     resultsMessageP.innerHTML = getTranslation(messageKey, lang, { score: score }); // Use innerHTML for potential <br>
                 }
            }

            function showResults(score) {
                const passed = score >= PASSING_SCORE;
                const lang = currentLanguage;

                scoreValueSpan.textContent = score;
                resultsDiv.classList.remove('results-pass', 'results-fail'); // Clear previous classes
                resultsDiv.classList.add(passed ? 'results-pass' : 'results-fail');

                const messageKey = passed ? 'results_message_pass' : 'results_message_fail';
                resultsMessageP.innerHTML = getTranslation(messageKey, lang, { score: score }); // Use innerHTML

                retryButton.style.display = passed ? 'none' : 'inline-block'; // Show retry only if failed
                submitButton.disabled = true; // Disable submit after showing results
                resultsDiv.style.display = 'block';
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });

                 // Disable all radio buttons after submission
                 quizForm.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.disabled = true;
                 });
                // Visually indicate correct/incorrect answers (Optional but helpful)
                for (let i = 1; i <= totalQuestions; i++) {
                    const questionName = `q${i}`;
                    const selectedValue = quizForm.elements[questionName]?.value;
                    const correctAnswer = correctAnswers[questionName];
                    const options = quizForm.querySelectorAll(`input[name="${questionName}"]`);
                    options.forEach(radio => {
                        const label = radio.nextElementSibling; // Get the label
                        if (radio.value === correctAnswer) {
                            label.style.borderLeft = '5px solid var(--success-color)'; // Highlight correct
                        }
                        if (radio.checked && selectedValue !== correctAnswer) {
                            label.style.borderLeft = '5px solid var(--error-color)'; // Highlight incorrect selection
                        } else if (radio.checked) {
                             label.style.borderLeft = '5px solid var(--success-color)'; // Highlight correct selection
                        }
                        if (!radio.checked && radio.value !== correctAnswer){
                             label.style.opacity = '0.6'; // Dim unselected wrong answers
                        }
                    });
                }


                if (passed) {
                    knowledgeCheckStatus[MODULE_ID] = true;
                    saveKnowledgeCheckStatus(knowledgeCheckStatus);
                }
            }

            function resetQuiz() {
                quizForm.reset();
                resultsDiv.style.display = 'none';
                submitButton.disabled = false;
                // Re-enable radio buttons
                quizForm.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.disabled = false;
                    const label = radio.nextElementSibling;
                    label.style.borderLeft = 'none'; // Remove indicators
                     label.style.opacity = '1'; // Restore opacity
                });
                quizForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Initial Check: If already passed, show passed state
            if (knowledgeCheckStatus[MODULE_ID] === true) {
                quizContentDiv.style.display = 'none'; // Hide the form
                quizPassedDiv.style.display = 'block'; // Show the passed message
            }

            // Form Submission Handler
            quizForm.addEventListener('submit', (event) => {
                event.preventDefault();
                let score = 0;
                const formData = new FormData(quizForm);
                for (let i = 1; i <= totalQuestions; i++) {
                    const questionName = `q${i}`;
                    const selectedAnswer = formData.get(questionName);
                    if (selectedAnswer === correctAnswers[questionName]) {
                        score++;
                    }
                }
                showResults(score);
            });

            // Retry Button Handler
            retryButton.addEventListener('click', resetQuiz);

            // Language Switcher Handler
            languageSelect.addEventListener('change', (e) => {
                currentLanguage = e.target.value;
                localStorage.setItem(LANGUAGE_STORAGE_KEY, currentLanguage);
                updateUIForLanguage(currentLanguage);
            });

            // --- Initial Page Load ---
            languageSelect.value = currentLanguage; // Set dropdown to stored language
            updateUIForLanguage(currentLanguage); // Translate page initially


        }); // End DOMContentLoaded
    </script>

</body>
</html>