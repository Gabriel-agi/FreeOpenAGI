<!DOCTYPE html>
<!-- Language set by JS -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title set by JS -->
    <title data-translate="page_title">Knowledge Check: Module 7 - Alternatives - else</title>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Base Styles & Variables (Copied from Dashboard) --- */
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-page: #f0f2f5;
            --background-card: #ffffff;
            --background-header: linear-gradient(135deg, #0d6efd, #0a58ca);
            --text-light: #f8f9fa;
            --text-dark: #343a40;
            --text-muted: #6c757d;
            --accent-color: #ffc107;
            --success-color: #198754;
            --error-color: #dc3545;
            --info-color: #0dcaf0;
            --check-color: #6f42c1;
            --border-color: #dee2e6;
            --border-radius: 8px;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            --transition-speed: 0.3s;
            --font-body: 'Roboto', sans-serif;
            --font-title: 'Orbitron', sans-serif;
             /* Colors for lang switcher */
             --lang-select-border: var(--certificate-color);
             --lang-select-bg: rgba(255, 255, 255, 0.1);
             --lang-select-bg-hover: rgba(255, 255, 255, 0.15);
             --lang-option-bg: var(--background-card);
             --lang-option-text: var(--text-dark);
             --lang-arrow-color: var(--certificate-color);
             --certificate-color: #d63384; /* Added for consistency */
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body {
            font-family: var(--font-body); line-height: 1.6;
            background-color: var(--background-page); color: var(--text-dark);
            padding-top: 80px; /* Add padding to avoid overlap with fixed header */
        }

        /* --- Quiz Header --- */
        .quiz-page-header {
            background: var(--background-header);
            color: var(--text-light);
            padding: 1rem 1.5rem;
            position: fixed; /* Fixed Header */
            top: 0;
            left: 0;
            width: 100%;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .header-content {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex-grow: 1;
            justify-content: space-between; /* Pushes title and lang switcher apart */
            max-width: 1200px; /* Max width for content */
            margin: 0 auto; /* Center content */
            width: 100%; /* Take full width within max-width */
        }
        .return-button {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: rgba(255, 255, 255, 0.15);
            color: var(--text-light);
            text-decoration: none;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            font-weight: 500;
            transition: background-color var(--transition-speed);
            white-space: nowrap;
        }
        .return-button i { margin-right: 8px; }
        .return-button:hover { background-color: rgba(255, 255, 255, 0.25); color: var(--text-light); }
        .quiz-page-header h1 {
            font-family: var(--font-title);
            font-size: 1.6rem;
            margin: 0;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            text-align: center; /* Center title within its space */
            flex-grow: 1; /* Allow title to take available space */
        }
        .quiz-page-header h1 .module-number {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-right: 5px;
        }

        /* --- Language Switcher in Header --- */
        .language-switcher { margin: 0; position: relative; }
         #languageSelect {
            background: var(--lang-select-bg);
            color: var(--text-light);
            border: 1px solid var(--lang-select-border);
            border-radius: 5px;
            padding: 6px 30px 6px 12px; /* Adjusted padding */
            cursor: pointer;
            font-size: 0.9rem; /* Slightly smaller font */
            font-weight: 500;
            appearance: none; -webkit-appearance: none; -moz-appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23${encodeURIComponent(getComputedStyle(document.documentElement).getPropertyValue('--text-light').trim().substring(1))}%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); /* White arrow */
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 8px auto; /* Smaller arrow */
            transition: border-color 0.3s ease, background-color 0.3s ease;
            min-width: 120px; /* Ensure it has some width */
         }
         #languageSelect:hover { background-color: var(--lang-select-bg-hover); border-color: var(--text-light); }
         #languageSelect:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.4); }
         #languageSelect option { background: var(--lang-option-bg); color: var(--lang-option-text); padding: 5px; }


        /* --- Quiz Container & Elements --- */
        .quiz-container {
            max-width: 800px;
            margin: 2rem auto; /* Margin top adjusted */
            padding: 2rem 2.5rem;
            background-color: var(--background-card);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
        }

        .quiz-instructions {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px dashed var(--border-color);
            font-size: 0.95rem;
            color: var(--text-muted);
            text-align: center;
        }
        .quiz-instructions strong { color: var(--text-dark); }
        .quiz-instructions i { margin-right: 5px; color: var(--check-color); }

        .question-block {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        .question-block:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0;}

        .question-text {
            font-weight: 500;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }
        .question-text code {
            background-color: #e9ecef;
            padding: 0.15em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
            color: #c7254e; /* Bootstrap code color */
            font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }
        .question-text pre code {
            display: block;
            padding: 1rem;
            margin-top: 0.5rem;
            overflow-x: auto;
            background-color: #282c34; /* Darker background for code blocks */
            color: #abb2bf; /* Light text for dark background */
            border-radius: 5px;
        }

        .options { list-style: none; padding: 0; margin: 0; }
        .options li { margin-bottom: 0.8rem; }
        .options label {
            display: block;
            padding: 0.8rem 1.2rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
            position: relative;
            padding-left: 40px; /* Space for custom radio */
        }
        .options label:hover {
            background-color: #f8f9fa;
            border-color: var(--secondary-color);
        }
        .options input[type="radio"] {
            opacity: 0; /* Hide default radio */
            position: absolute;
            width: 1px;
            height: 1px;
        }
        /* Custom radio button indicator */
        .options label::before {
            content: '';
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            border: 2px solid var(--secondary-color);
            border-radius: 50%;
            background-color: #fff;
            transition: border-color 0.3s;
        }
        .options label::after { /* The dot inside */
            content: '';
            position: absolute;
            left: 17px; /* Position inside the circle */
            top: 50%;
            transform: translateY(-50%) scale(0); /* Hidden by default */
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--primary-color);
            transition: transform 0.3s ease;
        }
        .options input[type="radio"]:checked + label {
            background-color: #e7f1ff;
            border-color: var(--primary-color);
        }
        .options input[type="radio"]:checked + label::before {
            border-color: var(--primary-color);
        }
        .options input[type="radio"]:checked + label::after {
            transform: translateY(-50%) scale(1); /* Show dot when checked */
        }
        .options label code { /* Code inside options */
             background-color: rgba(0,0,0,0.05);
             padding: 0.1em 0.3em;
             border-radius: 3px;
             font-size: 0.9em;
        }

        /* --- Submit Button --- */
        #submit-quiz {
            display: block;
            width: 100%;
            padding: 0.9rem 1.5rem;
            margin-top: 2.5rem;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-light);
            background-color: var(--check-color);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed), transform var(--transition-speed);
        }
        #submit-quiz:hover {
            background-color: #5a35a2; /* Darker shade */
            transform: translateY(-2px);
        }
        #submit-quiz:disabled {
            background-color: var(--secondary-color);
            cursor: not-allowed;
            opacity: 0.7;
            transform: none;
        }

        /* --- Results Area --- */
        #quiz-results {
            margin-top: 2rem;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 1.1rem;
            font-weight: 500;
            display: none; /* Hidden by default */
        }
        #quiz-results.pass {
            background-color: #d1e7dd; /* Bootstrap success light */
            border: 1px solid #a3cfbb;
            color: var(--success-color);
        }
        #quiz-results.fail {
            background-color: #f8d7da; /* Bootstrap danger light */
            border: 1px solid #f1aeb5;
            color: var(--error-color);
        }
        #quiz-results p { margin: 0.5rem 0; }
        #quiz-results i { margin-right: 8px; }

        /* --- Footer --- */
         footer { text-align: center; padding: 1.5rem; margin-top: 3rem; background-color: var(--background-card); border-top: 1px solid var(--border-color); color: var(--text-muted); font-size: 0.9rem; }


        /* --- Responsive Design --- */
        @media (max-width: 992px) {
            .quiz-page-header h1 { font-size: 1.4rem; }
            .return-button { padding: 0.4rem 0.8rem; font-size: 0.85rem;}
            #languageSelect { font-size: 0.85rem; padding: 5px 25px 5px 10px; min-width: 110px; }
        }
        @media (max-width: 768px) {
            body { padding-top: 100px; } /* Adjust for taller header potentially */
             .quiz-page-header { padding: 0.8rem 1rem; flex-wrap: wrap; justify-content: center; } /* Allow wrapping */
             .header-content { flex-direction: column; gap: 0.8rem; }
             .quiz-page-header h1 { order: 1; font-size: 1.3rem; width: 100%; text-align: center; margin-top: 5px; }
             .return-button { order: 0; }
             .language-switcher { order: 2; }
             .quiz-container { margin: 1.5rem auto; padding: 1.5rem; }
             .question-text { font-size: 1rem; }
             .options label { padding: 0.7rem 1rem; padding-left: 35px; font-size: 0.95rem; }
             .options label::before { left: 10px; width: 16px; height: 16px;}
             .options label::after { left: 14px; width: 8px; height: 8px;}
             #submit-quiz { padding: 0.8rem 1.2rem; font-size: 1rem; }
             #quiz-results { font-size: 1rem; padding: 1rem; }
        }
         @media (max-width: 576px) {
             body { font-size: 14px; padding-top: 110px; } /* Further adjust */
             .quiz-container { margin: 1rem 0.5rem; padding: 1rem; }
              .quiz-page-header h1 { font-size: 1.2rem; }
              .return-button { padding: 0.3rem 0.6rem; font-size: 0.8rem;}
              #languageSelect { font-size: 0.8rem; min-width: 100px; padding: 4px 20px 4px 8px;}
         }

    </style>
</head>
<body>

    <header class="quiz-page-header">
        <div class="header-content">
             <a href="ctp-dashboard.html" class="return-button">
                 <i class="fas fa-arrow-left"></i> <span data-translate="return_to_dashboard">Return to Dashboard</span>
             </a>
             <h1 data-translate="quiz_header_title">
                 <span class="module-number">7</span> Knowledge Check
             </h1>
             <div class="language-switcher">
                <select id="languageSelect" data-translate-aria-label="lang_select_aria" aria-label="Select Language">
                    <option value="en" data-translate="lang_en">🇬🇧 English</option>
                    <option value="pt" data-translate="lang_pt">🇧🇷 Português</option>
                    <option value="zh" data-translate="lang_zh">🇨🇳 中文</option>
                </select>
            </div>
        </div>
    </header>

    <main class="quiz-container">
        <div class="quiz-instructions">
            <p><i class="fas fa-check-double"></i> <span data-translate="quiz_instructions_1">Answer 10 questions about Module 7: Alternatives - else.</span></p>
            <p><i class="fas fa-bullseye"></i> <span data-translate="quiz_instructions_2">Score <strong data-translate="pass_score">6</strong> or more correct answers to pass.</span></p>
            <p><i class="fas fa-redo"></i> <span data-translate="quiz_instructions_3">You can retry as many times as you need.</span></p>
        </div>

        <form id="quiz-form">
            <div id="quiz-questions">
                <!-- Questions will be loaded here by JavaScript -->
            </div>

            <button type="submit" id="submit-quiz" data-translate="submit_button">Submit Answers</button>
        </form>

        <div id="quiz-results">
            <!-- Results will be shown here -->
        </div>

    </main>

     <footer>
        <p data-translate="footer_text">Part of the Road to Free Open AGI Project</p>
     </footer>

    <script>
        const MODULE_ID = 7;
        const PASSING_SCORE = 6;
        const KNOWLEDGE_CHECK_STORAGE_KEY = 'knowledgeCheckStatus_v1';
        const LANGUAGE_STORAGE_KEY = 'userLanguage';

        // --- Quiz Data for Module 7 ---
        const quizData = [
            { // Q1
                question_key: "q7_1_question",
                options_key_prefix: "q7_1_option_", // Used to generate option keys like q7_1_option_0, q7_1_option_1,...
                options_count: 4,
                correct_option_index: 1
            },
            { // Q2
                question_key: "q7_2_question",
                options_key_prefix: "q7_2_option_",
                options_count: 4,
                correct_option_index: 0
            },
            { // Q3
                question_key: "q7_3_question",
                options_key_prefix: "q7_3_option_",
                options_count: 4,
                correct_option_index: 2
            },
            { // Q4
                question_key: "q7_4_question",
                options_key_prefix: "q7_4_option_",
                options_count: 3,
                correct_option_index: 1
            },
            { // Q5
                question_key: "q7_5_question",
                options_key_prefix: "q7_5_option_",
                options_count: 4,
                correct_option_index: 3
            },
            { // Q6
                question_key: "q7_6_question",
                options_key_prefix: "q7_6_option_",
                options_count: 4,
                correct_option_index: 0
            },
            { // Q7
                question_key: "q7_7_question",
                options_key_prefix: "q7_7_option_",
                options_count: 3,
                correct_option_index: 2
            },
            { // Q8
                question_key: "q7_8_question",
                options_key_prefix: "q7_8_option_",
                options_count: 4,
                correct_option_index: 1
            },
            { // Q9
                question_key: "q7_9_question",
                options_key_prefix: "q7_9_option_",
                options_count: 4,
                correct_option_index: 0
            },
            { // Q10
                question_key: "q7_10_question",
                options_key_prefix: "q7_10_option_",
                options_count: 3,
                correct_option_index: 1
            }
        ];

        // --- Translations Object ---
        const translations = {
            en: {
                "page_title": "Knowledge Check: Module 7 - Alternatives - else",
                "return_to_dashboard": "Return to Dashboard",
                "quiz_header_title": "<span class=\"module-number\">7</span> Knowledge Check: Alternatives - else",
                "quiz_instructions_1": "Answer 10 questions about Module 7: Alternatives - else.",
                "quiz_instructions_2": "Score <strong data-translate=\"pass_score\">6</strong> or more correct answers to pass.",
                "pass_score": "6", // Keep separate for potential number formatting later
                "quiz_instructions_3": "You can retry as many times as you need.",
                "submit_button": "Submit Answers",
                "results_score": "Your score: {score}/{total}",
                "results_passed": "<i class=\"fas fa-check-circle\"></i> Congratulations! You passed!",
                "results_failed": "<i class=\"fas fa-times-circle\"></i> Not quite there yet. Keep practicing and try again!",
                "footer_text": "Part of the Road to Free Open AGI Project",
                "lang_select_aria": "Select Language",
                "lang_en": "🇬🇧 English",
                "lang_pt": "🇧🇷 Português",
                "lang_zh": "🇨🇳 中文",
                // --- Module 7 Questions & Options (English) ---
                "q7_1_question": "In an `if`/`else` structure, when is the code block under `else` executed?",
                "q7_1_option_0": "Always",
                "q7_1_option_1": "Only when the `if` condition evaluates to `False`",
                "q7_1_option_2": "Only when the `if` condition evaluates to `True`",
                "q7_1_option_3": "Never, `else` is optional",
                "q7_2_question": "What is the primary purpose of the `else` statement in Python?",
                "q7_2_option_0": "To provide an alternative block of code to execute when the `if` condition is false.",
                "q7_2_option_1": "To repeat a block of code.",
                "q7_2_option_2": "To define a function.",
                "q7_2_option_3": "To stop the program.",
                "q7_3_question": "Consider this code:\n```python\ntemperature = 15\nif temperature > 20:\n    print(\"Warm\")\nelse:\n    print(\"Cool\")\n```\nWhat will be printed?",
                "q7_3_option_0": "Warm",
                "q7_3_option_1": "Warm\nCool",
                "q7_3_option_2": "Cool",
                "q7_3_option_3": "Nothing will be printed",
                "q7_4_question": "Which of the following is essential for a correct `if`/`else` structure in Python?",
                "q7_4_option_0": "Using parentheses around the condition",
                "q7_4_option_1": "Correct indentation for both the `if` and `else` blocks",
                "q7_4_option_2": "Ending the `else` line with a semicolon (;)",
                "q7_5_question": "Can an `else` statement exist in Python code without a preceding `if` statement?",
                "q7_5_option_0": "Yes, if it's inside a loop.",
                "q7_5_option_1": "Yes, if it's the first line of the program.",
                "q7_5_option_2": "Yes, but it will cause a warning.",
                "q7_5_option_3": "No, an `else` must always follow an `if` or `elif` statement.",
                "q7_6_question": "What is the output of the following code?\n```python\nx = 10\ny = 10\nif x > y:\n    print(\"X is greater\")\nelse:\n    print(\"X is not greater than Y\")\n```",
                "q7_6_option_0": "X is not greater than Y",
                "q7_6_option_1": "X is greater",
                "q7_6_option_2": "Nothing",
                "q7_6_option_3": "An error occurs",
                "q7_7_question": "In the context of Computational Thinking, what does using an `if`/`else` structure primarily represent?",
                "q7_7_option_0": "Data Abstraction",
                "q7_7_option_1": "Pattern Recognition",
                "q7_7_option_2": "Algorithmic Thinking (Branching Logic)",
                "q7_8_question": "Which is the correct syntax for an `else` statement?",
                "q7_8_option_0": "else if condition:",
                "q7_8_option_1": "else:",
                "q7_8_option_2": "else():",
                "q7_8_option_3": "Else:",
                "q7_9_question": "If the condition in the `if` statement is `True`, what happens to the `else` block?",
                "q7_9_option_0": "It is skipped entirely.",
                "q7_9_option_1": "It is executed after the `if` block.",
                "q7_9_option_2": "It causes an error.",
                "q7_9_option_3": "Only the first line of the `else` block is executed.",
                "q7_10_question": "Consider the following code snippet intended to check if a number is even or odd:\n```python\nnumber = 7\nif number % 2 == 0:\n    print(\"Even\")\nelse\n    print(\"Odd\")\n```\nWhat is wrong with this code?",
                "q7_10_option_0": "The condition `number % 2 == 0` is incorrect for checking even numbers.",
                "q7_10_option_1": "The `else` statement is missing a colon (`:`) at the end.",
                "q7_10_option_2": "The `print(\"Odd\")` statement should not be indented.",
            },
            pt: {
                "page_title": "Verificação de Conhecimento: Módulo 7 - Alternativas - else",
                "return_to_dashboard": "Voltar ao Painel",
                "quiz_header_title": "<span class=\"module-number\">7</span> Verificação: Alternativas - else",
                "quiz_instructions_1": "Responda 10 perguntas sobre o Módulo 7: Alternativas - else.",
                "quiz_instructions_2": "Acerte <strong data-translate=\"pass_score\">6</strong> ou mais respostas para passar.",
                "pass_score": "6",
                "quiz_instructions_3": "Você pode tentar quantas vezes precisar.",
                "submit_button": "Enviar Respostas",
                "results_score": "Sua pontuação: {score}/{total}",
                "results_passed": "<i class=\"fas fa-check-circle\"></i> Parabéns! Você passou!",
                "results_failed": "<i class=\"fas fa-times-circle\"></i> Ainda não foi desta vez. Continue praticando e tente novamente!",
                "footer_text": "Parte do Projeto Road to Free Open AGI",
                "lang_select_aria": "Selecionar Idioma",
                "lang_en": "🇬🇧 English",
                "lang_pt": "🇧🇷 Português",
                "lang_zh": "🇨🇳 中文",
                 // --- Module 7 Questions & Options (Portuguese) ---
                 "q7_1_question": "Numa estrutura `if`/`else`, quando é que o bloco de código sob o `else` é executado?",
                 "q7_1_option_0": "Sempre",
                 "q7_1_option_1": "Apenas quando a condição `if` avalia para `False`",
                 "q7_1_option_2": "Apenas quando a condição `if` avalia para `True`",
                 "q7_1_option_3": "Nunca, `else` é opcional",
                 "q7_2_question": "Qual é o propósito principal da declaração `else` em Python?",
                 "q7_2_option_0": "Fornecer um bloco de código alternativo para executar quando a condição `if` é falsa.",
                 "q7_2_option_1": "Repetir um bloco de código.",
                 "q7_2_option_2": "Definir uma função.",
                 "q7_2_option_3": "Parar o programa.",
                 "q7_3_question": "Considere este código:\n```python\ntemperatura = 15\nif temperatura > 20:\n    print(\"Quente\")\nelse:\n    print(\"Frio\")\n```\nO que será impresso?",
                 "q7_3_option_0": "Quente",
                 "q7_3_option_1": "Quente\nFrio",
                 "q7_3_option_2": "Frio",
                 "q7_3_option_3": "Nada será impresso",
                 "q7_4_question": "Qual dos seguintes é essencial para uma estrutura `if`/`else` correta em Python?",
                 "q7_4_option_0": "Usar parênteses à volta da condição",
                 "q7_4_option_1": "Indentação correta para ambos os blocos `if` e `else`",
                 "q7_4_option_2": "Terminar a linha `else` com ponto e vírgula (;)",
                 "q7_5_question": "Pode uma declaração `else` existir em código Python sem uma declaração `if` precedente?",
                 "q7_5_option_0": "Sim, se estiver dentro de um loop.",
                 "q7_5_option_1": "Sim, se for a primeira linha do programa.",
                 "q7_5_option_2": "Sim, mas causará um aviso.",
                 "q7_5_option_3": "Não, um `else` deve sempre seguir uma declaração `if` ou `elif`.",
                 "q7_6_question": "Qual é a saída do seguinte código?\n```python\nx = 10\ny = 10\nif x > y:\n    print(\"X é maior\")\nelse:\n    print(\"X não é maior que Y\")\n```",
                 "q7_6_option_0": "X não é maior que Y",
                 "q7_6_option_1": "X é maior",
                 "q7_6_option_2": "Nada",
                 "q7_6_option_3": "Ocorre um erro",
                 "q7_7_question": "No contexto do Pensamento Computacional, o que representa primariamente o uso de uma estrutura `if`/`else`?",
                 "q7_7_option_0": "Abstração de Dados",
                 "q7_7_option_1": "Reconhecimento de Padrões",
                 "q7_7_option_2": "Pensamento Algorítmico (Lógica de Ramificação)",
                 "q7_8_question": "Qual é a sintaxe correta para uma declaração `else`?",
                 "q7_8_option_0": "else if condition:",
                 "q7_8_option_1": "else:",
                 "q7_8_option_2": "else():",
                 "q7_8_option_3": "Else:",
                 "q7_9_question": "Se a condição na declaração `if` for `True`, o que acontece ao bloco `else`?",
                 "q7_9_option_0": "É completamente ignorado.",
                 "q7_9_option_1": "É executado após o bloco `if`.",
                 "q7_9_option_2": "Causa um erro.",
                 "q7_9_option_3": "Apenas a primeira linha do bloco `else` é executada.",
                 "q7_10_question": "Considere o seguinte trecho de código destinado a verificar se um número é par ou ímpar:\n```python\nnumero = 7\nif numero % 2 == 0:\n    print(\"Par\")\nelse\n    print(\"Ímpar\")\n```\nO que está errado neste código?",
                 "q7_10_option_0": "A condição `numero % 2 == 0` está incorreta para verificar números pares.",
                 "q7_10_option_1": "Faltam os dois pontos (`:`) no final da declaração `else`.",
                 "q7_10_option_2": "A declaração `print(\"Ímpar\")` não deveria estar indentada.",
            },
            zh: {
                "page_title": "知识测验: 模块 7 - 替代方案 - else",
                "return_to_dashboard": "返回仪表板",
                "quiz_header_title": "<span class=\"module-number\">7</span> 知识测验: 替代方案 - else",
                "quiz_instructions_1": "回答关于模块 7: 替代方案 - else 的 10 个问题。",
                "quiz_instructions_2": "答对 <strong data-translate=\"pass_score\">6</strong> 题或以上即可通过。",
                "pass_score": "6",
                "quiz_instructions_3": "您可以根据需要重试任意次数。",
                "submit_button": "提交答案",
                "results_score": "你的分数: {score}/{total}",
                "results_passed": "<i class=\"fas fa-check-circle\"></i> 恭喜！你通过了！",
                "results_failed": "<i class=\"fas fa-times-circle\"></i> 差一点点。继续练习并再试一次！",
                "footer_text": "通往自由开放AGI之路项目的一部分",
                "lang_select_aria": "选择语言",
                "lang_en": "🇬🇧 English",
                "lang_pt": "🇧🇷 Português",
                "lang_zh": "🇨🇳 中文",
                 // --- Module 7 Questions & Options (Chinese) ---
                "q7_1_question": "在 `if`/`else` 结构中，`else` 下的代码块何时执行？",
                "q7_1_option_0": "总是执行",
                "q7_1_option_1": "仅当 `if` 条件评估为 `False` 时",
                "q7_1_option_2": "仅当 `if` 条件评估为 `True` 时",
                "q7_1_option_3": "从不执行，`else` 是可选的",
                "q7_2_question": "Python 中 `else` 语句的主要目的是什么？",
                "q7_2_option_0": "提供一个在 `if` 条件为 false 时执行的替代代码块。",
                "q7_2_option_1": "重复执行一个代码块。",
                "q7_2_option_2": "定义一个函数。",
                "q7_2_option_3": "停止程序。",
                "q7_3_question": "思考这段代码：\n```python\ntemperature = 15\nif temperature > 20:\n    print(\"Warm\")\nelse:\n    print(\"Cool\")\n```\n将打印什么？",
                "q7_3_option_0": "Warm",
                "q7_3_option_1": "Warm\nCool",
                "q7_3_option_2": "Cool",
                "q7_3_option_3": "什么都不会打印",
                "q7_4_question": "以下哪项对于 Python 中正确的 `if`/`else` 结构至关重要？",
                "q7_4_option_0": "在条件周围使用括号",
                "q7_4_option_1": "`if` 和 `else` 块都使用正确的缩进",
                "q7_4_option_2": "用分号 (;) 结束 `else` 行",
                "q7_5_question": "在 Python 代码中，`else` 语句可以在没有前导 `if` 语句的情况下存在吗？",
                "q7_5_option_0": "可以，如果它在循环内部。",
                "q7_5_option_1": "可以，如果它是程序的第一行。",
                "q7_5_option_2": "可以，但会导致警告。",
                "q7_5_option_3": "不可以，`else` 必须始终跟在 `if` 或 `elif` 语句之后。",
                "q7_6_question": "以下代码的输出是什么？\n```python\nx = 10\ny = 10\nif x > y:\n    print(\"X is greater\")\nelse:\n    print(\"X is not greater than Y\")\n```",
                "q7_6_option_0": "X is not greater than Y",
                "q7_6_option_1": "X is greater",
                "q7_6_option_2": "没有输出",
                "q7_6_option_3": "发生错误",
                "q7_7_question": "在计算思维的背景下，使用 `if`/`else` 结构主要代表什么？",
                "q7_7_option_0": "数据抽象",
                "q7_7_option_1": "模式识别",
                "q7_7_option_2": "算法思维（分支逻辑）",
                "q7_8_question": "`else` 语句的正确语法是哪个？",
                "q7_8_option_0": "else if condition:",
                "q7_8_option_1": "else:",
                "q7_8_option_2": "else():",
                "q7_8_option_3": "Else:",
                "q7_9_question": "如果 `if` 语句中的条件为 `True`，`else` 块会怎么样？",
                "q7_9_option_0": "它被完全跳过。",
                "q7_9_option_1": "它在 `if` 块之后执行。",
                "q7_9_option_2": "它导致错误。",
                "q7_9_option_3": "只有 `else` 块的第一行被执行。",
                "q7_10_question": "考虑以下旨在检查数字是偶数还是奇数的代码片段：\n```python\nnumber = 7\nif number % 2 == 0:\n    print(\"Even\")\nelse\n    print(\"Odd\")\n```\n这段代码有什么问题？",
                "q7_10_option_0": "条件 `number % 2 == 0` 用于检查偶数是错误的。",
                "q7_10_option_1": "`else` 语句末尾缺少冒号 (`:`)。",
                "q7_10_option_2": "`print(\"Odd\")` 语句不应该缩进。",
            }
        };

        // --- Core Functions (Mostly copied from Dashboard) ---
        function getStoredLanguage() { const storedLang = localStorage.getItem(LANGUAGE_STORAGE_KEY); return (storedLang && translations[storedLang]) ? storedLang : 'en'; }
        function getTranslation(key, lang, replacements = {}) { let text = translations[lang]?.[key] ?? translations['en']?.[key] ?? `[${key}]`; for (const placeholder in replacements) { const regex = new RegExp(`\\{${placeholder}\\}`, 'g'); text = text.replace(regex, replacements[placeholder]); } return text; }
        function loadKnowledgeCheckStatus() { try { const storedStatus = localStorage.getItem(KNOWLEDGE_CHECK_STORAGE_KEY); const parsed = storedStatus ? JSON.parse(storedStatus) : {}; return typeof parsed === 'object' && parsed !== null ? parsed : {}; } catch (e) { console.error("Error reading KC status from localStorage:", e); return {}; } }
        function saveCompletionStatus(moduleId) { try { const status = loadKnowledgeCheckStatus(); status[moduleId] = true; localStorage.setItem(KNOWLEDGE_CHECK_STORAGE_KEY, JSON.stringify(status)); console.log(`Module ${moduleId} status saved as complete.`); } catch (e) { console.error("Error saving KC status to localStorage:", e); } }

        function translatePage(lang) {
             if (!translations[lang]) lang = 'en';
             document.querySelectorAll('[data-translate]').forEach(el => { const key = el.getAttribute('data-translate'); const translation = getTranslation(key, lang); if (el.tagName === 'TITLE') { document.title = translation; } else if (el.hasAttribute('data-translate-dynamic')) { /* Handled by specific update functions like displayResults */ } else if (translation.includes('<') && translation.includes('>')) { /* Allow basic HTML in translations */ el.innerHTML = translation; } else { el.textContent = translation; } });
             document.querySelectorAll('[data-translate-placeholder]').forEach(el => { const key = el.getAttribute('data-translate-placeholder'); el.setAttribute('placeholder', getTranslation(key, lang)); });
             document.querySelectorAll('[data-translate-aria-label]').forEach(el => { const key = el.getAttribute('data-translate-aria-label'); el.setAttribute('aria-label', getTranslation(key, lang)); });
         }

        function displayQuiz(lang) {
            const questionsContainer = document.getElementById('quiz-questions');
            questionsContainer.innerHTML = ''; // Clear previous questions

            quizData.forEach((qData, index) => {
                const questionBlock = document.createElement('div');
                questionBlock.className = 'question-block';

                const questionText = document.createElement('div');
                questionText.className = 'question-text';
                // Use innerHTML for questions to allow code formatting
                questionText.innerHTML = `${index + 1}. ${getTranslation(qData.question_key, lang)}`;

                const optionsList = document.createElement('ul');
                optionsList.className = 'options';

                for (let i = 0; i < qData.options_count; i++) {
                    const optionItem = document.createElement('li');
                    const optionInput = document.createElement('input');
                    optionInput.type = 'radio';
                    optionInput.name = `q${index}`;
                    optionInput.value = i;
                    optionInput.id = `q${index}_option${i}`;
                    optionInput.required = true; // Make selection required

                    const optionLabel = document.createElement('label');
                    optionLabel.htmlFor = `q${index}_option${i}`;
                    // Use innerHTML for options as well, just in case
                    optionLabel.innerHTML = getTranslation(`${qData.options_key_prefix}${i}`, lang);

                    optionItem.appendChild(optionInput);
                    optionItem.appendChild(optionLabel);
                    optionsList.appendChild(optionItem);
                }

                questionBlock.appendChild(questionText);
                questionBlock.appendChild(optionsList);
                questionsContainer.appendChild(questionBlock);
            });
        }

         function displayResults(score, totalQuestions, lang) {
             const resultsContainer = document.getElementById('quiz-results');
             const scoreText = getTranslation('results_score', lang, { score: score, total: totalQuestions });
             const pass = score >= PASSING_SCORE;
             const statusTextKey = pass ? 'results_passed' : 'results_failed';
             const statusText = getTranslation(statusTextKey, lang);

             resultsContainer.innerHTML = `
                 <p>${scoreText}</p>
                 <p>${statusText}</p>
             `;
             resultsContainer.className = pass ? 'pass' : 'fail'; // Remove previous classes, add current
             resultsContainer.style.display = 'block';

             // Scroll to results smoothly
             resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });

             if (pass) {
                 saveCompletionStatus(MODULE_ID);
                 // Optional: Disable submit button after passing?
                 // document.getElementById('submit-quiz').disabled = true;
             }
         }

        function setLanguage(lang) {
            if (!translations[lang]) lang = 'en'; // Fallback
            localStorage.setItem(LANGUAGE_STORAGE_KEY, lang);
            document.documentElement.lang = lang;
            translatePage(lang);
            displayQuiz(lang); // Re-render quiz questions in the new language
             // Update language selector value
             const langSelect = document.getElementById('languageSelect');
             if (langSelect) langSelect.value = lang;
             // Clear previous results when language changes
             const resultsContainer = document.getElementById('quiz-results');
             resultsContainer.style.display = 'none';
             resultsContainer.innerHTML = '';
             // Re-enable submit button if it was disabled
             // document.getElementById('submit-quiz').disabled = false;
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            const lang = getStoredLanguage();
            setLanguage(lang); // Initial setup

            const languageSelectElement = document.getElementById('languageSelect');
            if (languageSelectElement) {
                languageSelectElement.value = lang; // Ensure dropdown matches stored language
                languageSelectElement.addEventListener('change', (e) => {
                    setLanguage(e.target.value);
                });
            }

            const quizForm = document.getElementById('quiz-form');
            quizForm.addEventListener('submit', (event) => {
                event.preventDefault(); // Prevent default form submission
                let score = 0;
                const currentLang = getStoredLanguage();

                quizData.forEach((qData, index) => {
                    const selectedOption = quizForm.querySelector(`input[name="q${index}"]:checked`);
                    if (selectedOption && parseInt(selectedOption.value) === qData.correct_option_index) {
                        score++;
                    }
                });

                displayResults(score, quizData.length, currentLang);
            });
        });

    </script>

</body>
</html>