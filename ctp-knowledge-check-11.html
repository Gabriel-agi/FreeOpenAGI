<!DOCTYPE html>
<!-- Language set by JS -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title set by JS -->
    <title data-translate="page_title">Knowledge Check: Module 11 - Modifying Lists</title>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Base Styles & Variables (Copied from ctp-dashboard.html) --- */
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-page: #f0f2f5;
            --background-card: #ffffff;
            --text-light: #f8f9fa;
            --text-dark: #343a40;
            --text-muted: #6c757d;
            --accent-color: #ffc107;
            --success-color: #198754;
            --error-color: #dc3545;
            --info-color: #0dcaf0;
            --check-color: #6f42c1; /* Knowledge Check specific color */
            --certificate-color: #d63384;
            --progress-bg: #e9ecef;
            --progress-fill: var(--check-color);
            --border-color: #dee2e6;
            --border-radius: 8px;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            --transition-speed: 0.3s;
            --font-body: 'Roboto', sans-serif;
            --font-title: 'Orbitron', sans-serif;
            /* Colors for lang switcher */
             --lang-select-border: var(--certificate-color);
             --lang-select-bg: rgba(255, 255, 255, 0.1);
             --lang-select-bg-hover: rgba(255, 255, 255, 0.15);
             --lang-option-bg: var(--background-card);
             --lang-option-text: var(--text-dark);
             --lang-arrow-color: var(--certificate-color);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body {
            font-family: var(--font-body); line-height: 1.6;
            background-color: var(--background-page); color: var(--text-dark);
            display: flex; flex-direction: column; min-height: 100vh;
        }

        /* --- Header Area --- */
        .page-header {
            background: linear-gradient(135deg, #0d6efd, #0a58ca); /* Consistent with dashboard */
            color: var(--text-light);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .back-link {
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            padding: 0.4rem 0.8rem;
            border-radius: 5px;
            transition: background-color var(--transition-speed);
        }
        .back-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .back-link i {
            margin-right: 6px;
        }
        .language-switcher-container { /* Container for alignment */
             /* Add styles if needed */
        }
         /* Language Switcher Styles (Same as dashboard) */
        #languageSelect {
            background: var(--background-card);
            color: var(--text-dark);
            border: 1px solid var(--lang-select-border);
            border-radius: 5px;
            padding: 6px 30px 6px 12px; /* Adjusted padding */
            cursor: pointer;
            font-size: 0.9rem; /* Slightly smaller */
            font-weight: 500;
            appearance: none; -webkit-appearance: none; -moz-appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23${encodeURIComponent(getComputedStyle(document.documentElement).getPropertyValue('--certificate-color').trim().substring(1))}%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 8px auto;
            transition: border-color 0.3s ease;
         }
         #languageSelect:hover { border-color: #b02a6e; }
         #languageSelect:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25); }
         #languageSelect option {
              background: var(--lang-option-bg);
              color: var(--lang-option-text);
              padding: 5px;
         }

        /* --- Quiz Container --- */
        .quiz-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: var(--background-card);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
            flex-grow: 1; /* Takes available space */
        }

        .quiz-header h2 {
            font-family: var(--font-title);
            font-size: 1.8rem;
            color: var(--check-color);
            margin-bottom: 0.5rem;
            text-align: center;
        }
        .quiz-header h2 .module-number {
             color: var(--text-muted);
             font-weight: 400;
             font-size: 1.2rem;
             margin-right: 8px;
             display: inline-block;
             background-color: var(--background-page);
             padding: 3px 8px;
             border-radius: 4px;
        }

        .quiz-intro {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
            text-align: center;
            border-bottom: 1px dashed var(--border-color);
            padding-bottom: 1.5rem;
        }
        .quiz-intro strong {
            color: var(--text-dark);
        }
        .quiz-intro .pass-score {
            color: var(--success-color);
            font-weight: bold;
        }
        .quiz-intro .attempts-info {
             display: block;
             margin-top: 0.5rem;
             font-size: 0.9rem;
        }

        /* --- Question Styling --- */
        .question-block {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .question-block:last-of-type {
            border-bottom: none;
            margin-bottom: 1rem; /* Reduce margin for last question */
            padding-bottom: 0.5rem;
        }
        .question-text {
            font-weight: 500;
            margin-bottom: 1rem;
            font-size: 1.05rem;
        }
        .question-text code {
             background-color: #e9ecef;
             padding: 0.1em 0.4em;
             border-radius: 3px;
             font-size: 0.95em;
             color: #c7254e;
             font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }
        .options-group label {
            display: block;
            margin-bottom: 0.75rem;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
            position: relative; /* For feedback icons */
        }
        .options-group label:hover {
            background-color: #f8f9fa;
            border-color: var(--secondary-color);
        }
        .options-group input[type="radio"] {
            margin-right: 10px;
            vertical-align: middle; /* Align radio button nicely */
        }
         .options-group label code { /* Style code within options */
             background-color: #e9ecef;
             padding: 0.1em 0.4em;
             border-radius: 3px;
             font-size: 0.9em;
             color: #c7254e;
        }
        /* Feedback Styles */
        .options-group label.correct-answer {
            border-color: var(--success-color);
            background-color: #d1e7dd; /* Light success green */
            font-weight: 500;
        }
        .options-group label.incorrect-answer {
            border-color: var(--error-color);
            background-color: #f8d7da; /* Light error red */
        }
         /* Optional: Add icons for feedback */
        .options-group label.correct-answer::after {
             content: '\f00c'; /* FontAwesome check */
             font-family: 'Font Awesome 6 Free';
             font-weight: 900;
             color: var(--success-color);
             position: absolute;
             right: 15px;
             top: 50%;
             transform: translateY(-50%);
         }
        .options-group label.incorrect-answer::after {
             content: '\f00d'; /* FontAwesome times */
             font-family: 'Font Awesome 6 Free';
             font-weight: 900;
             color: var(--error-color);
             position: absolute;
             right: 15px;
             top: 50%;
             transform: translateY(-50%);
         }
        .options-group input[type="radio"]:disabled + label {
            cursor: not-allowed;
            opacity: 0.8;
        }
         .options-group input[type="radio"]:disabled + label:hover {
             background-color: inherit; /* Don't change bg on hover when disabled */
             border-color: var(--border-color); /* Reset border color */
         }
         .options-group input[type="radio"]:disabled + label.correct-answer:hover {
             background-color: #d1e7dd;
             border-color: var(--success-color);
         }
         .options-group input[type="radio"]:disabled + label.incorrect-answer:hover {
            background-color: #f8d7da;
             border-color: var(--error-color);
         }

        /* --- Buttons & Results --- */
        .button-container {
            text-align: center;
            margin-top: 2rem;
        }
        .quiz-button {
            padding: 0.8rem 2rem;
            font-size: 1rem;
            font-weight: 500;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color var(--transition-speed), transform var(--transition-speed);
            margin: 0 0.5rem;
        }
        .quiz-button:hover {
            transform: translateY(-2px);
        }
        #submit-button {
            background-color: var(--check-color);
            color: var(--text-light);
        }
        #submit-button:hover {
             background-color: #5a35a3; /* Darker check color */
        }
        #try-again-button {
            background-color: var(--secondary-color);
            color: var(--text-light);
            display: none; /* Initially hidden */
        }
        #try-again-button:hover {
             background-color: #5a6268;
        }

        #results-area {
            margin-top: 2.5rem;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            display: none; /* Initially hidden */
            border: 1px solid var(--border-color);
        }
        #results-area.pass {
            background-color: #e6f7ec; /* Lighter success green */
            border-left: 5px solid var(--success-color);
        }
         #results-area.fail {
             background-color: #fdecea; /* Lighter error red */
             border-left: 5px solid var(--error-color);
         }
        .score {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .result-message {
            font-size: 1.1rem;
            font-weight: 500;
        }
        #results-area.pass .score, #results-area.pass .result-message {
             color: var(--success-color);
         }
        #results-area.fail .score, #results-area.fail .result-message {
             color: var(--error-color);
         }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: auto; /* Pushes footer down */
            background-color: var(--background-card);
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* --- Responsive --- */
        @media (max-width: 768px) {
            html { font-size: 15px; }
            .quiz-container { margin: 1.5rem; padding: 1.5rem; }
            .quiz-header h2 { font-size: 1.6rem; }
            .page-header { padding: 0.8rem 1rem; }
            .back-link { font-size: 0.9rem; padding: 0.3rem 0.6rem;}
            #languageSelect { padding: 5px 25px 5px 10px; font-size: 0.85rem; }
        }
         @media (max-width: 576px) {
             html { font-size: 14px; }
             .quiz-container { margin: 1rem; padding: 1rem; }
             .quiz-header h2 { font-size: 1.4rem; }
             .quiz-intro { font-size: 0.9rem; }
             .question-text { font-size: 1rem; }
             .options-group label { padding: 0.6rem 0.8rem; font-size: 0.9rem;}
             .quiz-button { padding: 0.7rem 1.5rem; font-size: 0.95rem; }
             .page-header { flex-direction: column; align-items: flex-start; }
             .language-switcher-container { align-self: flex-end; margin-top: 0.5rem;}
         }

    </style>
</head>
<body>

    <header class="page-header">
         <a href="ctp-dashboard.html" class="back-link">
             <i class="fas fa-arrow-left"></i> <span data-translate="back_to_dashboard">Back to Dashboard</span>
         </a>
          <div class="language-switcher-container">
             <select id="languageSelect" data-translate-aria-label="lang_select_aria" aria-label="Select Language">
                 <option value="en" data-translate="lang_en">🇬🇧 English</option>
                 <option value="pt" data-translate="lang_pt">🇧🇷 Português</option>
                 <option value="zh" data-translate="lang_zh">🇨🇳 中文</option>
             </select>
         </div>
    </header>

    <main class="quiz-container">
        <div class="quiz-header">
             <h2 data-translate="kc11_title"><span class="module-number">11</span>Knowledge Check: Modifying Lists</h2>
        </div>
        <p class="quiz-intro">
            <span data-translate="kc11_intro_text">Test your understanding of Module 11. Answer the 10 questions below.</span>
            <br>
            <span data-translate="kc11_pass_condition">You need <strong class="pass-score">6</strong> correct answers to pass.</span>
            <span class="attempts-info" data-translate="kc11_attempts_info">You can attempt this check as many times as you like. Passing will update your course progress.</span>
        </p>

        <form id="quiz-form">

            <!-- Question 1 -->
            <div class="question-block">
                <p class="question-text" data-translate="kc11_q1_text">1. Which method adds an element to the very end of a list?</p>
                <div class="options-group">
                    <input type="radio" id="q1a" name="q1" value="a" required>
                    <label for="q1a" data-translate="kc11_q1_opt_a"><code>insert()</code></label>
                    <input type="radio" id="q1b" name="q1" value="b">
                    <label for="q1b" data-translate="kc11_q1_opt_b"><code>append()</code></label>
                    <input type="radio" id="q1c" name="q1" value="c">
                    <label for="q1c" data-translate="kc11_q1_opt_c"><code>extend()</code></label>
                    <input type="radio" id="q1d" name="q1" value="d">
                    <label for="q1d" data-translate="kc11_q1_opt_d"><code>add()</code></label>
                </div>
            </div>

            <!-- Question 2 -->
            <div class="question-block">
                <p class="question-text" data-translate="kc11_q2_text">2. What is the result of the following code? <br><code>my_list = [10, 20, 30]</code><br><code>my_list.insert(1, 15)</code><br><code>print(my_list)</code></p>
                <div class="options-group">
                    <input type="radio" id="q2a" name="q2" value="a" required>
                    <label for="q2a" data-translate="kc11_q2_opt_a"><code>[10, 15, 20, 30]</code></label>
                    <input type="radio" id="q2b" name="q2" value="b">
                    <label for="q2b" data-translate="kc11_q2_opt_b"><code>[15, 10, 20, 30]</code></label>
                    <input type="radio" id="q2c" name="q2" value="c">
                    <label for="q2c" data-translate="kc11_q2_opt_c"><code>[10, 20, 30, 15]</code></label>
                    <input type="radio" id="q2d" name="q2" value="d">
                    <label for="q2d" data-translate="kc11_q2_opt_d"><code>[10, 20, 15, 30]</code></label>
                </div>
            </div>

             <!-- Question 3 -->
            <div class="question-block">
                <p class="question-text" data-translate="kc11_q3_text">3. Which statement is used to remove an item from a list using its index, without returning the removed item?</p>
                <div class="options-group">
                    <input type="radio" id="q3a" name="q3" value="a" required>
                    <label for="q3a" data-translate="kc11_q3_opt_a"><code>remove()</code></label>
                    <input type="radio" id="q3b" name="q3" value="b">
                    <label for="q3b" data-translate="kc11_q3_opt_b"><code>pop()</code></label>
                    <input type="radio" id="q3c" name="q3" value="c">
                    <label for="q3c" data-translate="kc11_q3_opt_c"><code>del</code></label>
                    <input type="radio" id="q3d" name="q3" value="d">
                    <label for="q3d" data-translate="kc11_q3_opt_d"><code>clear()</code></label>
                </div>
            </div>

            <!-- Question 4 -->
            <div class="question-block">
                 <p class="question-text" data-translate="kc11_q4_text">4. Consider the list <code>items = ['a', 'b', 'c', 'd']</code>. What does <code>items.pop(1)</code> return?</p>
                 <div class="options-group">
                     <input type="radio" id="q4a" name="q4" value="a" required>
                     <label for="q4a" data-translate="kc11_q4_opt_a"><code>'a'</code></label>
                     <input type="radio" id="q4b" name="q4" value="b">
                     <label for="q4b" data-translate="kc11_q4_opt_b"><code>'b'</code></label>
                     <input type="radio" id="q4c" name="q4" value="c">
                     <label for="q4c" data-translate="kc11_q4_opt_c"><code>['a', 'c', 'd']</code></label>
                     <input type="radio" id="q4d" name="q4" value="d">
                     <label for="q4d" data-translate="kc11_q4_opt_d"><code>None</code></label>
                 </div>
            </div>

             <!-- Question 5 -->
            <div class="question-block">
                 <p class="question-text" data-translate="kc11_q5_text">5. If you want to remove the first occurrence of the value <code>'apple'</code> from a list called <code>fruits</code>, which method should you use?</p>
                 <div class="options-group">
                     <input type="radio" id="q5a" name="q5" value="a" required>
                     <label for="q5a" data-translate="kc11_q5_opt_a"><code>del fruits[0]</code></label>
                     <input type="radio" id="q5b" name="q5" value="b">
                     <label for="q5b" data-translate="kc11_q5_opt_b"><code>fruits.pop('apple')</code></label>
                     <input type="radio" id="q5c" name="q5" value="c">
                     <label for="q5c" data-translate="kc11_q5_opt_c"><code>fruits.remove('apple')</code></label>
                     <input type="radio" id="q5d" name="q5" value="d">
                     <label for="q5d" data-translate="kc11_q5_opt_d"><code>fruits.delete('apple')</code></label>
                 </div>
            </div>

             <!-- Question 6 -->
            <div class="question-block">
                 <p class="question-text" data-translate="kc11_q6_text">6. What happens if you try to use <code>.remove(value)</code> on a list where <code>value</code> does not exist?</p>
                 <div class="options-group">
                     <input type="radio" id="q6a" name="q6" value="a" required>
                     <label for="q6a" data-translate="kc11_q6_opt_a">The list remains unchanged, and no error occurs.</label>
                     <input type="radio" id="q6b" name="q6" value="b">
                     <label for="q6b" data-translate="kc11_q6_opt_b">It removes the last item in the list.</label>
                     <input type="radio" id="q6c" name="q6" value="c">
                     <label for="q6c" data-translate="kc11_q6_opt_c">It returns <code>None</code>.</label>
                     <input type="radio" id="q6d" name="q6" value="d">
                     <label for="q6d" data-translate="kc11_q6_opt_d">It raises a <code>ValueError</code>.</label>
                 </div>
            </div>

             <!-- Question 7 -->
             <div class="question-block">
                  <p class="question-text" data-translate="kc11_q7_text">7. Given <code>letters = ['x', 'y', 'z']</code>, what does <code>letters.pop()</code> (without an index) do?</p>
                  <div class="options-group">
                      <input type="radio" id="q7a" name="q7" value="a" required>
                      <label for="q7a" data-translate="kc11_q7_opt_a">Removes and returns <code>'x'</code> (the first item).</label>
                      <input type="radio" id="q7b" name="q7" value="b">
                      <label for="q7b" data-translate="kc11_q7_opt_b">Removes and returns <code>'z'</code> (the last item).</label>
                      <input type="radio" id="q7c" name="q7" value="c">
                      <label for="q7c" data-translate="kc11_q7_opt_c">Raises an error because an index is required.</label>
                      <input type="radio" id="q7d" name="q7" value="d">
                      <label for="q7d" data-translate="kc11_q7_opt_d">Removes all items from the list.</label>
                  </div>
             </div>

             <!-- Question 8 -->
             <div class="question-block">
                 <p class="question-text" data-translate="kc11_q8_text">8. How can you replace the items at index 1 and 2 in <code>my_list = [0, 1, 2, 3]</code> with the single value <code>99</code>?</p>
                 <div class="options-group">
                     <input type="radio" id="q8a" name="q8" value="a" required>
                     <label for="q8a" data-translate="kc11_q8_opt_a"><code>my_list.replace(1, 2, 99)</code></label>
                     <input type="radio" id="q8b" name="q8" value="b">
                     <label for="q8b" data-translate="kc11_q8_opt_b"><code>my_list[1:2] = 99</code></label>
                     <input type="radio" id="q8c" name="q8" value="c">
                     <label for="q8c" data-translate="kc11_q8_opt_c"><code>my_list[1:3] = [99]</code></label>
                     <input type="radio" id="q8d" name="q8" value="d">
                     <label for="q8d" data-translate="kc11_q8_opt_d"><code>my_list.insert(1, 99)</code> then <code>del my_list[2]</code></label>
                 </div>
             </div>

             <!-- Question 9 -->
             <div class="question-block">
                  <p class="question-text" data-translate="kc11_q9_text">9. What is the value of <code>numbers</code> after this code executes? <br><code>numbers = [1, 2, 3, 4, 5]</code><br><code>del numbers[1:3]</code></p>
                  <div class="options-group">
                      <input type="radio" id="q9a" name="q9" value="a" required>
                      <label for="q9a" data-translate="kc11_q9_opt_a"><code>[1, 3, 4, 5]</code></label>
                      <input type="radio" id="q9b" name="q9" value="b">
                      <label for="q9b" data-translate="kc11_q9_opt_b"><code>[1, 4, 5]</code></label>
                      <input type="radio" id="q9c" name="q9" value="c">
                      <label for="q9c" data-translate="kc11_q9_opt_c"><code>[1, 2, 4, 5]</code></label>
                      <input type="radio" id="q9d" name="q9" value="d">
                      <label for="q9d" data-translate="kc11_q9_opt_d"><code>[2, 3]</code></label>
                  </div>
             </div>

             <!-- Question 10 -->
            <div class="question-block">
                 <p class="question-text" data-translate="kc11_q10_text">10. Which of the following methods modifies the original list in-place (directly changes the list object)?</p>
                 <div class="options-group">
                     <input type="radio" id="q10a" name="q10" value="a" required>
                     <label for="q10a" data-translate="kc11_q10_opt_a"><code>append()</code> only</label>
                     <input type="radio" id="q10b" name="q10" value="b">
                     <label for="q10b" data-translate="kc11_q10_opt_b"><code>insert()</code> only</label>
                     <input type="radio" id="q10c" name="q10" value="c">
                     <label for="q10c" data-translate="kc11_q10_opt_c"><code>pop()</code> and <code>remove()</code> only</label>
                     <input type="radio" id="q10d" name="q10" value="d">
                     <label for="q10d" data-translate="kc11_q10_opt_d">All of the above (<code>append</code>, <code>insert</code>, <code>pop</code>, <code>remove</code>, <code>del</code> statement, slice assignment)</label>
                 </div>
            </div>

            <!-- Buttons -->
            <div class="button-container">
                <button type="submit" id="submit-button" class="quiz-button" data-translate="kc_submit">Submit Answers</button>
                <button type="button" id="try-again-button" class="quiz-button" data-translate="kc_try_again">Try Again</button>
            </div>

        </form>

        <!-- Results Area -->
        <div id="results-area">
            <p class="score" id="score-display"></p>
            <p class="result-message" id="result-message-display"></p>
        </div>

    </main>

    <footer>
        <p data-translate="footer_text">Part of the Road to Free Open AGI Project</p>
    </footer>

    <script>
        const MODULE_ID = 11; // <<< Unique ID for this knowledge check
        const KNOWLEDGE_CHECK_STORAGE_KEY = 'knowledgeCheckStatus_v1'; // Consistent key
        const LANGUAGE_STORAGE_KEY = 'userLanguage';
        const PASSING_SCORE = 6; // 6 out of 10 to pass
        const TOTAL_QUESTIONS = 10;

         // --- Correct Answers ---
         // Store the correct value ('a', 'b', 'c', or 'd') for each question
         const correctAnswers = {
            q1: 'b', q2: 'a', q3: 'c', q4: 'b', q5: 'c',
            q6: 'd', q7: 'b', q8: 'c', q9: 'b', q10: 'd'
         };

        // --- Translations Object ---
        const translations = {
             en: {
                 "page_title": `Knowledge Check: Module ${MODULE_ID} - Modifying Lists`,
                 "back_to_dashboard": "Back to Dashboard",
                 "lang_select_aria": "Select Language",
                 "lang_en": "🇬🇧 English", "lang_pt": "🇧🇷 Português", "lang_zh": "🇨🇳 中文",
                 "kc11_title": `<span class="module-number">${MODULE_ID}</span>Knowledge Check: Modifying Lists`,
                 "kc11_intro_text": `Test your understanding of Module ${MODULE_ID}. Answer the ${TOTAL_QUESTIONS} questions below.`,
                 "kc11_pass_condition": `You need <strong class="pass-score">${PASSING_SCORE}</strong> correct answers to pass.`,
                 "kc11_attempts_info": "You can attempt this check as many times as you like. Passing will update your course progress.",
                 "kc_submit": "Submit Answers",
                 "kc_try_again": "Try Again",
                 "kc_score_display": "Your Score: {score}/{total}",
                 "kc_result_pass": "Congratulations! You passed!",
                 "kc_result_fail": "Keep trying! Review the module and try again.",
                 "footer_text": "Part of the Road to Free Open AGI Project",
                 // Questions & Options (Module 11 Specific)
                 "kc11_q1_text": "1. Which method adds an element to the very end of a list?",
                 "kc11_q1_opt_a": "<code>insert()</code>", "kc11_q1_opt_b": "<code>append()</code>", "kc11_q1_opt_c": "<code>extend()</code>", "kc11_q1_opt_d": "<code>add()</code>",
                 "kc11_q2_text": "2. What is the result of the following code? <br><code>my_list = [10, 20, 30]</code><br><code>my_list.insert(1, 15)</code><br><code>print(my_list)</code>",
                 "kc11_q2_opt_a": "<code>[10, 15, 20, 30]</code>", "kc11_q2_opt_b": "<code>[15, 10, 20, 30]</code>", "kc11_q2_opt_c": "<code>[10, 20, 30, 15]</code>", "kc11_q2_opt_d": "<code>[10, 20, 15, 30]</code>",
                 "kc11_q3_text": "3. Which statement is used to remove an item from a list using its index, without returning the removed item?",
                 "kc11_q3_opt_a": "<code>remove()</code>", "kc11_q3_opt_b": "<code>pop()</code>", "kc11_q3_opt_c": "<code>del</code>", "kc11_q3_opt_d": "<code>clear()</code>",
                 "kc11_q4_text": "4. Consider the list <code>items = ['a', 'b', 'c', 'd']</code>. What does <code>items.pop(1)</code> return?",
                 "kc11_q4_opt_a": "<code>'a'</code>", "kc11_q4_opt_b": "<code>'b'</code>", "kc11_q4_opt_c": "<code>['a', 'c', 'd']</code>", "kc11_q4_opt_d": "<code>None</code>",
                 "kc11_q5_text": "5. If you want to remove the first occurrence of the value <code>'apple'</code> from a list called <code>fruits</code>, which method should you use?",
                 "kc11_q5_opt_a": "<code>del fruits[0]</code>", "kc11_q5_opt_b": "<code>fruits.pop('apple')</code>", "kc11_q5_opt_c": "<code>fruits.remove('apple')</code>", "kc11_q5_opt_d": "<code>fruits.delete('apple')</code>",
                 "kc11_q6_text": "6. What happens if you try to use <code>.remove(value)</code> on a list where <code>value</code> does not exist?",
                 "kc11_q6_opt_a": "The list remains unchanged, and no error occurs.", "kc11_q6_opt_b": "It removes the last item in the list.", "kc11_q6_opt_c": "It returns <code>None</code>.", "kc11_q6_opt_d": "It raises a <code>ValueError</code>.",
                 "kc11_q7_text": "7. Given <code>letters = ['x', 'y', 'z']</code>, what does <code>letters.pop()</code> (without an index) do?",
                 "kc11_q7_opt_a": "Removes and returns <code>'x'</code> (the first item).", "kc11_q7_opt_b": "Removes and returns <code>'z'</code> (the last item).", "kc11_q7_opt_c": "Raises an error because an index is required.", "kc11_q7_opt_d": "Removes all items from the list.",
                 "kc11_q8_text": "8. How can you replace the items at index 1 and 2 in <code>my_list = [0, 1, 2, 3]</code> with the single value <code>99</code>?",
                 "kc11_q8_opt_a": "<code>my_list.replace(1, 2, 99)</code>", "kc11_q8_opt_b": "<code>my_list[1:2] = 99</code>", "kc11_q8_opt_c": "<code>my_list[1:3] = [99]</code>", "kc11_q8_opt_d": "<code>my_list.insert(1, 99)</code> then <code>del my_list[2]</code>",
                 "kc11_q9_text": "9. What is the value of <code>numbers</code> after this code executes? <br><code>numbers = [1, 2, 3, 4, 5]</code><br><code>del numbers[1:3]</code>",
                 "kc11_q9_opt_a": "<code>[1, 3, 4, 5]</code>", "kc11_q9_opt_b": "<code>[1, 4, 5]</code>", "kc11_q9_opt_c": "<code>[1, 2, 4, 5]</code>", "kc11_q9_opt_d": "<code>[2, 3]</code>",
                 "kc11_q10_text": "10. Which of the following methods modifies the original list in-place (directly changes the list object)?",
                 "kc11_q10_opt_a": "<code>append()</code> only", "kc11_q10_opt_b": "<code>insert()</code> only", "kc11_q10_opt_c": "<code>pop()</code> and <code>remove()</code> only", "kc11_q10_opt_d": "All of the above (<code>append</code>, <code>insert</code>, <code>pop</code>, <code>remove</code>, <code>del</code> statement, slice assignment)",
             },
             pt: {
                 "page_title": `Verificação: Módulo ${MODULE_ID} - Modificando Listas`,
                 "back_to_dashboard": "Voltar ao Painel",
                 "lang_select_aria": "Selecionar Idioma",
                 "lang_en": "🇬🇧 English", "lang_pt": "🇧🇷 Português", "lang_zh": "🇨🇳 中文",
                 "kc11_title": `<span class="module-number">${MODULE_ID}</span>Verificação: Modificando Listas`,
                 "kc11_intro_text": `Teste seu conhecimento do Módulo ${MODULE_ID}. Responda às ${TOTAL_QUESTIONS} perguntas abaixo.`,
                 "kc11_pass_condition": `Você precisa de <strong class="pass-score">${PASSING_SCORE}</strong> respostas corretas para passar.`,
                 "kc11_attempts_info": "Você pode tentar esta verificação quantas vezes quiser. Passar atualizará seu progresso no curso.",
                 "kc_submit": "Enviar Respostas",
                 "kc_try_again": "Tentar Novamente",
                 "kc_score_display": "Sua Pontuação: {score}/{total}",
                 "kc_result_pass": "Parabéns! Você passou!",
                 "kc_result_fail": "Continue tentando! Revise o módulo e tente novamente.",
                 "footer_text": "Parte do Projeto Road to Free Open AGI",
                 // Perguntas & Opções PT (Módulo 11)
                 "kc11_q1_text": "1. Qual método adiciona um elemento ao final de uma lista?",
                 "kc11_q1_opt_a": "<code>insert()</code>", "kc11_q1_opt_b": "<code>append()</code>", "kc11_q1_opt_c": "<code>extend()</code>", "kc11_q1_opt_d": "<code>add()</code>",
                 "kc11_q2_text": "2. Qual o resultado do código a seguir? <br><code>minha_lista = [10, 20, 30]</code><br><code>minha_lista.insert(1, 15)</code><br><code>print(minha_lista)</code>",
                 "kc11_q2_opt_a": "<code>[10, 15, 20, 30]</code>", "kc11_q2_opt_b": "<code>[15, 10, 20, 30]</code>", "kc11_q2_opt_c": "<code>[10, 20, 30, 15]</code>", "kc11_q2_opt_d": "<code>[10, 20, 15, 30]</code>",
                 "kc11_q3_text": "3. Qual instrução é usada para remover um item de uma lista usando seu índice, sem retornar o item removido?",
                 "kc11_q3_opt_a": "<code>remove()</code>", "kc11_q3_opt_b": "<code>pop()</code>", "kc11_q3_opt_c": "<code>del</code>", "kc11_q3_opt_d": "<code>clear()</code>",
                 "kc11_q4_text": "4. Considere a lista <code>itens = ['a', 'b', 'c', 'd']</code>. O que <code>itens.pop(1)</code> retorna?",
                 "kc11_q4_opt_a": "<code>'a'</code>", "kc11_q4_opt_b": "<code>'b'</code>", "kc11_q4_opt_c": "<code>['a', 'c', 'd']</code>", "kc11_q4_opt_d": "<code>None</code>",
                 "kc11_q5_text": "5. Se você quiser remover a primeira ocorrência do valor <code>'maçã'</code> de uma lista chamada <code>frutas</code>, qual método deve usar?",
                 "kc11_q5_opt_a": "<code>del frutas[0]</code>", "kc11_q5_opt_b": "<code>frutas.pop('maçã')</code>", "kc11_q5_opt_c": "<code>frutas.remove('maçã')</code>", "kc11_q5_opt_d": "<code>frutas.delete('maçã')</code>",
                 "kc11_q6_text": "6. O que acontece se você tentar usar <code>.remove(valor)</code> em uma lista onde <code>valor</code> não existe?",
                 "kc11_q6_opt_a": "A lista permanece inalterada e nenhum erro ocorre.", "kc11_q6_opt_b": "Remove o último item da lista.", "kc11_q6_opt_c": "Retorna <code>None</code>.", "kc11_q6_opt_d": "Levanta um <code>ValueError</code>.",
                 "kc11_q7_text": "7. Dado <code>letras = ['x', 'y', 'z']</code>, o que <code>letras.pop()</code> (sem índice) faz?",
                 "kc11_q7_opt_a": "Remove e retorna <code>'x'</code> (o primeiro item).", "kc11_q7_opt_b": "Remove e retorna <code>'z'</code> (o último item).", "kc11_q7_opt_c": "Levanta um erro porque um índice é necessário.", "kc11_q7_opt_d": "Remove todos os itens da lista.",
                 "kc11_q8_text": "8. Como você pode substituir os itens nos índices 1 e 2 em <code>minha_lista = [0, 1, 2, 3]</code> pelo valor único <code>99</code>?",
                 "kc11_q8_opt_a": "<code>minha_lista.replace(1, 2, 99)</code>", "kc11_q8_opt_b": "<code>minha_lista[1:2] = 99</code>", "kc11_q8_opt_c": "<code>minha_lista[1:3] = [99]</code>", "kc11_q8_opt_d": "<code>minha_lista.insert(1, 99)</code> depois <code>del minha_lista[2]</code>",
                 "kc11_q9_text": "9. Qual é o valor de <code>numeros</code> após a execução deste código? <br><code>numeros = [1, 2, 3, 4, 5]</code><br><code>del numeros[1:3]</code>",
                 "kc11_q9_opt_a": "<code>[1, 3, 4, 5]</code>", "kc11_q9_opt_b": "<code>[1, 4, 5]</code>", "kc11_q9_opt_c": "<code>[1, 2, 4, 5]</code>", "kc11_q9_opt_d": "<code>[2, 3]</code>",
                 "kc11_q10_text": "10. Qual dos seguintes métodos modifica a lista original in-place (altera diretamente o objeto da lista)?",
                 "kc11_q10_opt_a": "Apenas <code>append()</code>", "kc11_q10_opt_b": "Apenas <code>insert()</code>", "kc11_q10_opt_c": "Apenas <code>pop()</code> e <code>remove()</code>", "kc11_q10_opt_d": "Todos os anteriores (<code>append</code>, <code>insert</code>, <code>pop</code>, <code>remove</code>, instrução <code>del</code>, atribuição de fatia)",
             },
             zh: {
                 "page_title": `知识测验: 模块 ${MODULE_ID} - 修改列表`,
                 "back_to_dashboard": "返回仪表板",
                 "lang_select_aria": "选择语言",
                 "lang_en": "🇬🇧 English", "lang_pt": "🇧🇷 Português", "lang_zh": "🇨🇳 中文",
                 "kc11_title": `<span class="module-number">${MODULE_ID}</span>知识测验：修改列表`,
                 "kc11_intro_text": `测试您对模块 ${MODULE_ID} 的理解。回答下面的 ${TOTAL_QUESTIONS} 个问题。`,
                 "kc11_pass_condition": `您需要答对 <strong class="pass-score">${PASSING_SCORE}</strong> 题才能通过。`,
                 "kc11_attempts_info": "您可以根据需要尝试多次此测验。通过后将更新您的课程进度。",
                 "kc_submit": "提交答案",
                 "kc_try_again": "再试一次",
                 "kc_score_display": "您的得分: {score}/{total}",
                 "kc_result_pass": "恭喜！您已通过！",
                 "kc_result_fail": "请继续努力！复习模块内容后再试一次。",
                 "footer_text": "通往自由开放AGI之路项目的一部分",
                  // 问题与选项 ZH (模块 11)
                 "kc11_q1_text": "1. 哪个方法将元素添加到列表的最末尾？",
                 "kc11_q1_opt_a": "<code>insert()</code>", "kc11_q1_opt_b": "<code>append()</code>", "kc11_q1_opt_c": "<code>extend()</code>", "kc11_q1_opt_d": "<code>add()</code>",
                 "kc11_q2_text": "2. 以下代码的结果是什么？<br><code>my_list = [10, 20, 30]</code><br><code>my_list.insert(1, 15)</code><br><code>print(my_list)</code>",
                 "kc11_q2_opt_a": "<code>[10, 15, 20, 30]</code>", "kc11_q2_opt_b": "<code>[15, 10, 20, 30]</code>", "kc11_q2_opt_c": "<code>[10, 20, 30, 15]</code>", "kc11_q2_opt_d": "<code>[10, 20, 15, 30]</code>",
                 "kc11_q3_text": "3. 哪个语句用于根据索引从列表中删除项目，并且不返回被删除的项目？",
                 "kc11_q3_opt_a": "<code>remove()</code>", "kc11_q3_opt_b": "<code>pop()</code>", "kc11_q3_opt_c": "<code>del</code>", "kc11_q3_opt_d": "<code>clear()</code>",
                 "kc11_q4_text": "4. 对于列表 <code>items = ['a', 'b', 'c', 'd']</code>，<code>items.pop(1)</code> 返回什么？",
                 "kc11_q4_opt_a": "<code>'a'</code>", "kc11_q4_opt_b": "<code>'b'</code>", "kc11_q4_opt_c": "<code>['a', 'c', 'd']</code>", "kc11_q4_opt_d": "<code>None</code>",
                 "kc11_q5_text": "5. 如果你想从名为 <code>fruits</code> 的列表中移除第一次出现的 <code>'apple'</code>，应该使用哪个方法？",
                 "kc11_q5_opt_a": "<code>del fruits[0]</code>", "kc11_q5_opt_b": "<code>fruits.pop('apple')</code>", "kc11_q5_opt_c": "<code>fruits.remove('apple')</code>", "kc11_q5_opt_d": "<code>fruits.delete('apple')</code>",
                 "kc11_q6_text": "6. 如果尝试在一个不存在 <code>value</code> 的列表上使用 <code>.remove(value)</code>，会发生什么？",
                 "kc11_q6_opt_a": "列表保持不变，并且不发生错误。", "kc11_q6_opt_b": "它会移除列表中的最后一个项目。", "kc11_q6_opt_c": "它返回 <code>None</code>。", "kc11_q6_opt_d": "它会引发 <code>ValueError</code>。",
                 "kc11_q7_text": "7. 给定 <code>letters = ['x', 'y', 'z']</code>，<code>letters.pop()</code>（不带索引）会做什么？",
                 "kc11_q7_opt_a": "移除并返回 <code>'x'</code>（第一个项目）。", "kc11_q7_opt_b": "移除并返回 <code>'z'</code>（最后一个项目）。", "kc11_q7_opt_c": "引发错误，因为需要索引。", "kc11_q7_opt_d": "移除列表中的所有项目。",
                 "kc11_q8_text": "8. 如何将 <code>my_list = [0, 1, 2, 3]</code> 中索引 1 和 2 处的项替换为单个值 <code>99</code>？",
                 "kc11_q8_opt_a": "<code>my_list.replace(1, 2, 99)</code>", "kc11_q8_opt_b": "<code>my_list[1:2] = 99</code>", "kc11_q8_opt_c": "<code>my_list[1:3] = [99]</code>", "kc11_q8_opt_d": "<code>my_list.insert(1, 99)</code> 然后 <code>del my_list[2]</code>",
                 "kc11_q9_text": "9. 执行此代码后，<code>numbers</code> 的值是多少？ <br><code>numbers = [1, 2, 3, 4, 5]</code><br><code>del numbers[1:3]</code>",
                 "kc11_q9_opt_a": "<code>[1, 3, 4, 5]</code>", "kc11_q9_opt_b": "<code>[1, 4, 5]</code>", "kc11_q9_opt_c": "<code>[1, 2, 4, 5]</code>", "kc11_q9_opt_d": "<code>[2, 3]</code>",
                 "kc11_q10_text": "10. 以下哪个方法会就地修改原始列表（直接更改列表对象）？",
                 "kc11_q10_opt_a": "仅 <code>append()</code>", "kc11_q10_opt_b": "仅 <code>insert()</code>", "kc11_q10_opt_c": "仅 <code>pop()</code> 和 <code>remove()</code>", "kc11_q10_opt_d": "以上所有（<code>append</code>, <code>insert</code>, <code>pop</code>, <code>remove</code>, <code>del</code> 语句, 切片赋值）",
             }
         };

        // --- Utility Functions (Storage & Language) ---
        function loadKnowledgeCheckStatus() { try { const storedStatus = localStorage.getItem(KNOWLEDGE_CHECK_STORAGE_KEY); const parsed = storedStatus ? JSON.parse(storedStatus) : {}; return typeof parsed === 'object' && parsed !== null ? parsed : {}; } catch (e) { console.error("Error reading KC status from localStorage:", e); return {}; } }
        function saveKnowledgeCheckStatus(statusObject) { try { localStorage.setItem(KNOWLEDGE_CHECK_STORAGE_KEY, JSON.stringify(statusObject)); } catch (e) { console.error("Error saving KC status to localStorage:", e); } }
        function getStoredLanguage() { const storedLang = localStorage.getItem(LANGUAGE_STORAGE_KEY); return (storedLang && translations[storedLang]) ? storedLang : 'en'; }
        function getTranslation(key, lang, replacements = {}) { let text = translations[lang]?.[key] ?? translations['en']?.[key] ?? `[${key}]`; for (const placeholder in replacements) { const regex = new RegExp(`\\{${placeholder}\\}`, 'g'); text = text.replace(regex, replacements[placeholder]); } return text; }
        function translatePage(lang) {
            if (!translations[lang]) lang = 'en';
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-translate]').forEach(el => { const key = el.getAttribute('data-translate'); const translation = getTranslation(key, lang); if (el.tagName === 'TITLE') { document.title = translation; } else if (translation.includes('<') || translation.includes('&')) { el.innerHTML = translation; } else { el.textContent = translation; } });
             document.querySelectorAll('[data-translate-aria-label]').forEach(el => { const key = el.getAttribute('data-translate-aria-label'); el.setAttribute('aria-label', getTranslation(key, lang)); });
             // Re-translate results if they are already displayed
             const resultsArea = document.getElementById('results-area');
             if (resultsArea.style.display === 'block') {
                const score = parseInt(resultsArea.dataset.score || '0');
                const passed = score >= PASSING_SCORE;
                const scoreDisplay = document.getElementById('score-display');
                const messageDisplay = document.getElementById('result-message-display');
                scoreDisplay.textContent = getTranslation('kc_score_display', lang, { score: score, total: TOTAL_QUESTIONS });
                messageDisplay.textContent = getTranslation(passed ? 'kc_result_pass' : 'kc_result_fail', lang);
             }
        }
        function setLanguage(lang) {
             if (!translations[lang]) lang = 'en'; // Fallback
             localStorage.setItem(LANGUAGE_STORAGE_KEY, lang);
             document.documentElement.lang = lang;
             const langSelect = document.getElementById('languageSelect');
             if (langSelect) langSelect.value = lang;
             translatePage(lang); // Translate all static and potentially dynamic elements
         }

        // --- Quiz Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const quizForm = document.getElementById('quiz-form');
            const submitButton = document.getElementById('submit-button');
            const tryAgainButton = document.getElementById('try-again-button');
            const resultsArea = document.getElementById('results-area');
            const scoreDisplay = document.getElementById('score-display');
            const messageDisplay = document.getElementById('result-message-display');
            const languageSelect = document.getElementById('languageSelect');

            // Set initial language
            const initialLang = getStoredLanguage();
            languageSelect.value = initialLang;
            translatePage(initialLang);

            // Language change listener
            languageSelect.addEventListener('change', (e) => {
                setLanguage(e.target.value);
            });

            // Form submission listener
            quizForm.addEventListener('submit', (event) => {
                event.preventDefault(); // Prevent actual form submission
                checkAnswers();
            });

            // Try again listener
            tryAgainButton.addEventListener('click', resetQuiz);

            function checkAnswers() {
                let score = 0;
                const currentLang = getStoredLanguage(); // Get lang for result messages

                // Remove previous feedback first
                clearFeedback();

                // Disable all inputs and mark answers
                const questions = quizForm.querySelectorAll('.question-block');
                questions.forEach((qBlock, index) => {
                    const qName = `q${index + 1}`;
                    const radios = qBlock.querySelectorAll(`input[name="${qName}"]`);
                    const selectedRadio = qBlock.querySelector(`input[name="${qName}"]:checked`);
                    const correctAnswerValue = correctAnswers[qName];

                    radios.forEach(radio => {
                        radio.disabled = true; // Disable input
                        const label = radio.nextElementSibling; // Get the label
                        if (label) {
                            // Mark the correct answer's label
                            if (radio.value === correctAnswerValue) {
                                label.classList.add('correct-answer');
                            }
                            // If an incorrect answer was selected, mark its label
                            if (selectedRadio && selectedRadio === radio && radio.value !== correctAnswerValue) {
                                label.classList.add('incorrect-answer');
                            }
                        }
                    });

                    // Increment score if selected answer is correct
                    if (selectedRadio && selectedRadio.value === correctAnswerValue) {
                        score++;
                    }
                });

                // Calculate results
                const passed = score >= PASSING_SCORE;

                 // Store score in dataset for re-translation
                 resultsArea.dataset.score = score;

                // Display results
                scoreDisplay.textContent = getTranslation('kc_score_display', currentLang, { score: score, total: TOTAL_QUESTIONS });
                messageDisplay.textContent = getTranslation(passed ? 'kc_result_pass' : 'kc_result_fail', currentLang);
                resultsArea.className = passed ? 'pass' : 'fail'; // Add class for styling
                resultsArea.style.display = 'block';

                // Update buttons
                submitButton.style.display = 'none';
                tryAgainButton.style.display = 'inline-block';

                // Save progress if passed
                if (passed) {
                    const currentStatus = loadKnowledgeCheckStatus();
                    currentStatus[MODULE_ID] = true; // Mark this module as complete
                    saveKnowledgeCheckStatus(currentStatus);
                }
             }

            function resetQuiz() {
                 quizForm.reset(); // Clear selections
                 clearFeedback(); // Remove visual feedback

                 // Re-enable all radio buttons
                 quizForm.querySelectorAll('input[type="radio"]').forEach(radio => {
                     radio.disabled = false;
                 });

                 // Hide results and swap buttons
                 resultsArea.style.display = 'none';
                 resultsArea.removeAttribute('data-score'); // Clear stored score
                 submitButton.style.display = 'inline-block';
                 tryAgainButton.style.display = 'none';
            }

            function clearFeedback() {
                 // Remove feedback classes from all labels
                 quizForm.querySelectorAll('.options-group label').forEach(label => {
                     label.classList.remove('correct-answer', 'incorrect-answer');
                 });
            }
        }); // End DOMContentLoaded

    </script>

</body>
</html>